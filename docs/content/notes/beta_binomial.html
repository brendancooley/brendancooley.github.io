<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Brendan Cooley - The Efron and Morris (1975) Data and the Beta-Binomial Model</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="../../styles.css">
<meta property="og:title" content="Brendan Cooley - The Efron and Morris (1975) Data and the Beta-Binomial Model">
<meta property="og:description" content="">
<meta property="og:image" content="https://brendancooley.com/content/notes/img/efron_morris.jpeg">
<meta property="og:site-name" content="Brendan Cooley">
<meta name="twitter:title" content="Brendan Cooley - The Efron and Morris (1975) Data and the Beta-Binomial Model">
<meta name="twitter:description" content="">
<meta name="twitter:image" content="https://brendancooley.com/content/notes/img/efron_morris.jpeg">
<meta name="twitter:card" content="summary_large_image">
</head>

<body>

<div id="quarto-search-results"></div>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#references" id="toc-references" class="nav-link active" data-scroll-target="#references">References</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">The Efron and Morris (1975) Data and the Beta-Binomial Model</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p>You’re a baseball fan in April 1970. Player’s batting averages for the current season are published in tables at the back of the Sunday sports section. You’d like to use these data to predict how players will perform for the rest of the season.</p>
<p>Efron and Morris started by collecting batting averages for a sample of players who each had 45 at bats. We will refer to these data as the “training data”. They returned to the Sunday sports section to record these players’ batting averages after the 162 game season had been completed. We can load these data into memory using <code>pandas</code>:</p>
<div class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>DATA_URL <span class="op">=</span> <span class="st">"https://d2hg8soec8ck9v.cloudfront.net/datasets/EfronMorrisBB.txt"</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.read_csv(DATA_URL, sep<span class="op">=</span><span class="st">"</span><span class="ch">\t</span><span class="st">"</span>)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>df_train <span class="op">=</span> df[[<span class="st">"FirstName"</span>, <span class="st">"LastName"</span>, <span class="st">"At-Bats"</span>, <span class="st">"Hits"</span>]]</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>df_test <span class="op">=</span> df[[<span class="st">"FirstName"</span>, <span class="st">"LastName"</span>, <span class="st">"SeasonAt-Bats"</span>, <span class="st">"SeasonHits"</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>To start, we’ll peak at the training data to get a sense of what we’re working with. We can sort the data by the number of hits to see who the best hitters were at the beginning of the season:</p>
<div class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>df_train.sort_values(<span class="st">"Hits"</span>, ascending<span class="op">=</span><span class="va">False</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="2">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">FirstName</th>
<th data-quarto-table-cell-role="th">LastName</th>
<th data-quarto-table-cell-role="th">At-Bats</th>
<th data-quarto-table-cell-role="th">Hits</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Roberto</td>
<td>Clemente</td>
<td>45</td>
<td>18</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Frank</td>
<td>Robinson</td>
<td>45</td>
<td>17</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Frank</td>
<td>Howard</td>
<td>45</td>
<td>16</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Jay</td>
<td>Johnstone</td>
<td>45</td>
<td>15</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Ken</td>
<td>Berry</td>
<td>45</td>
<td>14</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>Jim</td>
<td>Spencer</td>
<td>45</td>
<td>14</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>Don</td>
<td>Kessinger</td>
<td>45</td>
<td>13</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7</td>
<td>Luis</td>
<td>Alvarado</td>
<td>45</td>
<td>12</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8</td>
<td>Ron</td>
<td>Santo</td>
<td>45</td>
<td>11</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">9</td>
<td>Ron</td>
<td>Swaboda</td>
<td>45</td>
<td>11</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">10</td>
<td>Rico</td>
<td>Petrocelli</td>
<td>45</td>
<td>10</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">11</td>
<td>Ellie</td>
<td>Rodriguez</td>
<td>45</td>
<td>10</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">12</td>
<td>George</td>
<td>Scott</td>
<td>45</td>
<td>10</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">13</td>
<td>Del</td>
<td>Unser</td>
<td>45</td>
<td>10</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">14</td>
<td>Billy</td>
<td>Williams</td>
<td>45</td>
<td>10</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">15</td>
<td>Bert</td>
<td>Campaneris</td>
<td>45</td>
<td>9</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">16</td>
<td>Thurman</td>
<td>Munson</td>
<td>45</td>
<td>8</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">17</td>
<td>Max</td>
<td>Alvis</td>
<td>45</td>
<td>7</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>A simple way to predict players’ batting average for the remainder of the season is simply to use their averages from the first 45 at bats. We can compute these by dividing the number of hits by the number of at bats:</p>
<div class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>df_train[<span class="st">"avg"</span>] <span class="op">=</span> df_train[<span class="st">"Hits"</span>] <span class="op">/</span> df_train[<span class="st">"At-Bats"</span>]</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>df_train.sort_values(<span class="st">"avg"</span>, ascending<span class="op">=</span><span class="va">False</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>/var/folders/d2/2spyvc1d5d12g6jw1qts2w2r0000gn/T/ipykernel_29560/2686805759.py:1: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df_train["avg"] = df_train["Hits"] / df_train["At-Bats"]</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="3">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">FirstName</th>
<th data-quarto-table-cell-role="th">LastName</th>
<th data-quarto-table-cell-role="th">At-Bats</th>
<th data-quarto-table-cell-role="th">Hits</th>
<th data-quarto-table-cell-role="th">avg</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Roberto</td>
<td>Clemente</td>
<td>45</td>
<td>18</td>
<td>0.400000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Frank</td>
<td>Robinson</td>
<td>45</td>
<td>17</td>
<td>0.377778</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Frank</td>
<td>Howard</td>
<td>45</td>
<td>16</td>
<td>0.355556</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Jay</td>
<td>Johnstone</td>
<td>45</td>
<td>15</td>
<td>0.333333</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Ken</td>
<td>Berry</td>
<td>45</td>
<td>14</td>
<td>0.311111</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>Jim</td>
<td>Spencer</td>
<td>45</td>
<td>14</td>
<td>0.311111</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>Don</td>
<td>Kessinger</td>
<td>45</td>
<td>13</td>
<td>0.288889</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7</td>
<td>Luis</td>
<td>Alvarado</td>
<td>45</td>
<td>12</td>
<td>0.266667</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8</td>
<td>Ron</td>
<td>Santo</td>
<td>45</td>
<td>11</td>
<td>0.244444</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">9</td>
<td>Ron</td>
<td>Swaboda</td>
<td>45</td>
<td>11</td>
<td>0.244444</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">10</td>
<td>Rico</td>
<td>Petrocelli</td>
<td>45</td>
<td>10</td>
<td>0.222222</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">11</td>
<td>Ellie</td>
<td>Rodriguez</td>
<td>45</td>
<td>10</td>
<td>0.222222</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">12</td>
<td>George</td>
<td>Scott</td>
<td>45</td>
<td>10</td>
<td>0.222222</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">13</td>
<td>Del</td>
<td>Unser</td>
<td>45</td>
<td>10</td>
<td>0.222222</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">14</td>
<td>Billy</td>
<td>Williams</td>
<td>45</td>
<td>10</td>
<td>0.222222</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">15</td>
<td>Bert</td>
<td>Campaneris</td>
<td>45</td>
<td>9</td>
<td>0.200000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">16</td>
<td>Thurman</td>
<td>Munson</td>
<td>45</td>
<td>8</td>
<td>0.177778</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">17</td>
<td>Max</td>
<td>Alvis</td>
<td>45</td>
<td>7</td>
<td>0.155556</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>The Bayesian approach asks us 1. What is the <em>data generating process</em>? How would you go about simulating hits and at bats using the tools of probability? 2. What are our prior beliefs. What <em>should</em> the distribution of player season-long batting averages look like?</p>
<p>The beta distribution is defined over probabilities (<span class="math inline">\([0,1]\)</span>). We can toggle the parameters of the distribution to encode our prior beliefs:</p>
<div class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># from ipywidgets import interact</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="co"># from ipywidgets.embed import embed_minimal_html</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="co"># from scipy import stats</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="co"># import numpy as np</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="co"># import altair as alt</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="co"># def beta_pdf(alpha, beta):</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="co">#   x = np.linspace(0, 1, 100)</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a><span class="co">#   y = stats.beta.pdf(x, alpha, beta)</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a><span class="co">#   return alt.Chart(pd.DataFrame({"x": x, "y": y})).mark_line().encode(x="x", y="y")</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a><span class="co"># beta_pdf(1, 1)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> bokeh</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> bokeh.io <span class="im">import</span> output_notebook</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> distribution_explorer <span class="im">as</span> de</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>output_notebook()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<style>
        .bk-notebook-logo {
            display: block;
            width: 20px;
            height: 20px;
            background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAOkSURBVDiNjZRtaJVlGMd/1/08zzln5zjP1LWcU9N0NkN8m2CYjpgQYQXqSs0I84OLIC0hkEKoPtiH3gmKoiJDU7QpLgoLjLIQCpEsNJ1vqUOdO7ppbuec5+V+rj4ctwzd8IIbbi6u+8f1539dt3A78eXC7QizUF7gyV1fD1Yqg4JWz84yffhm0qkFqBogB9rM8tZdtwVsPUhWhGcFJngGeWrPzHm5oaMmkfEg1usvLFyc8jLRqDOMru7AyC8saQr7GG7f5fvDeH7Ej8CM66nIF+8yngt6HWaKh7k49Soy9nXurCi1o3qUbS3zWfrYeQDTB/Qj6kX6Ybhw4B+bOYoLKCC9H3Nu/leUTZ1JdRWkkn2ldcCamzrcf47KKXdAJllSlxAOkRgyHsGC/zRday5Qld9DyoM4/q/rUoy/CXh3jzOu3bHUVZeU+DEn8FInkPBFlu3+nW3Nw0mk6vCDiWg8CeJaxEwuHS3+z5RgY+YBR6V1Z1nxSOfoaPa4LASWxxdNp+VWTk7+4vzaou8v8PN+xo+KY2xsw6une2frhw05CTYOmQvsEhjhWjn0bmXPjpE1+kplmmkP3suftwTubK9Vq22qKmrBhpY4jvd5afdRA3wGjFAgcnTK2s4hY0/GPNIb0nErGMCRxWOOX64Z8RAC4oCXdklmEvcL8o0BfkNK4lUg9HTl+oPlQxdNo3Mg4Nv175e/1LDGzZen30MEjRUtmXSfiTVu1kK8W4txyV6BMKlbgk3lMwYCiusNy9fVfvvwMxv8Ynl6vxoByANLTWplvuj/nF9m2+PDtt1eiHPBr1oIfhCChQMBw6Aw0UulqTKZdfVvfG7VcfIqLG9bcldL/+pdWTLxLUy8Qq38heUIjh4XlzZxzQm19lLFlr8vdQ97rjZVOLf8nclzckbcD4wxXMidpX30sFd37Fv/GtwwhzhxGVAprjbg0gCAEeIgwCZyTV2Z1REEW8O4py0wsjeloKoMr6iCY6dP92H6Vw/oTyICIthibxjm/DfN9lVz8IqtqKYLUXfoKVMVQVVJOElGjrnnUt9T9wbgp8AyYKaGlqingHZU/uG2NTZSVqwHQTWkx9hxjkpWDaCg6Ckj5qebgBVbT3V3NNXMSiWSDdGV3hrtzla7J+duwPOToIg42ChPQOQjspnSlp1V+Gjdged7+8UN5CRAV7a5EdFNwCjEaBR27b3W890TE7g24NAP/mMDXRWrGoFPQI9ls/MWO2dWFAar/xcOIImbbpA3zgAAAABJRU5ErkJggg==);
        }
    </style>
    <div>
        <a href="https://bokeh.org" target="_blank" class="bk-notebook-logo"></a>
        <span id="a373c97e-6c79-4158-a30a-84141c629457">Loading BokehJS ...</span>
    </div>
</div>
<div class="cell-output cell-output-display">

<script type="application/javascript">
(function(root) {
  function now() {
    return new Date();
  }

  const force = true;

  if (typeof root._bokeh_onload_callbacks === "undefined" || force === true) {
    root._bokeh_onload_callbacks = [];
    root._bokeh_is_loading = undefined;
  }

const JS_MIME_TYPE = 'application/javascript';
  const HTML_MIME_TYPE = 'text/html';
  const EXEC_MIME_TYPE = 'application/vnd.bokehjs_exec.v0+json';
  const CLASS_NAME = 'output_bokeh rendered_html';

  /**
   * Render data to the DOM node
   */
  function render(props, node) {
    const script = document.createElement("script");
    node.appendChild(script);
  }

  /**
   * Handle when an output is cleared or removed
   */
  function handleClearOutput(event, handle) {
    function drop(id) {
      const view = Bokeh.index.get_by_id(id)
      if (view != null) {
        view.model.document.clear()
        Bokeh.index.delete(view)
      }
    }

    const cell = handle.cell;

    const id = cell.output_area._bokeh_element_id;
    const server_id = cell.output_area._bokeh_server_id;

    // Clean up Bokeh references
    if (id != null) {
      drop(id)
    }

    if (server_id !== undefined) {
      // Clean up Bokeh references
      const cmd_clean = "from bokeh.io.state import curstate; print(curstate().uuid_to_server['" + server_id + "'].get_sessions()[0].document.roots[0]._id)";
      cell.notebook.kernel.execute(cmd_clean, {
        iopub: {
          output: function(msg) {
            const id = msg.content.text.trim()
            drop(id)
          }
        }
      });
      // Destroy server and session
      const cmd_destroy = "import bokeh.io.notebook as ion; ion.destroy_server('" + server_id + "')";
      cell.notebook.kernel.execute(cmd_destroy);
    }
  }

  /**
   * Handle when a new output is added
   */
  function handleAddOutput(event, handle) {
    const output_area = handle.output_area;
    const output = handle.output;

    // limit handleAddOutput to display_data with EXEC_MIME_TYPE content only
    if ((output.output_type != "display_data") || (!Object.prototype.hasOwnProperty.call(output.data, EXEC_MIME_TYPE))) {
      return
    }

    const toinsert = output_area.element.find("." + CLASS_NAME.split(' ')[0]);

    if (output.metadata[EXEC_MIME_TYPE]["id"] !== undefined) {
      toinsert[toinsert.length - 1].firstChild.textContent = output.data[JS_MIME_TYPE];
      // store reference to embed id on output_area
      output_area._bokeh_element_id = output.metadata[EXEC_MIME_TYPE]["id"];
    }
    if (output.metadata[EXEC_MIME_TYPE]["server_id"] !== undefined) {
      const bk_div = document.createElement("div");
      bk_div.innerHTML = output.data[HTML_MIME_TYPE];
      const script_attrs = bk_div.children[0].attributes;
      for (let i = 0; i < script_attrs.length; i++) {
        toinsert[toinsert.length - 1].firstChild.setAttribute(script_attrs[i].name, script_attrs[i].value);
        toinsert[toinsert.length - 1].firstChild.textContent = bk_div.children[0].textContent
      }
      // store reference to server id on output_area
      output_area._bokeh_server_id = output.metadata[EXEC_MIME_TYPE]["server_id"];
    }
  }

  function register_renderer(events, OutputArea) {

    function append_mime(data, metadata, element) {
      // create a DOM node to render to
      const toinsert = this.create_output_subarea(
        metadata,
        CLASS_NAME,
        EXEC_MIME_TYPE
      );
      this.keyboard_manager.register_events(toinsert);
      // Render to node
      const props = {data: data, metadata: metadata[EXEC_MIME_TYPE]};
      render(props, toinsert[toinsert.length - 1]);
      element.append(toinsert);
      return toinsert
    }

    /* Handle when an output is cleared or removed */
    events.on('clear_output.CodeCell', handleClearOutput);
    events.on('delete.Cell', handleClearOutput);

    /* Handle when a new output is added */
    events.on('output_added.OutputArea', handleAddOutput);

    /**
     * Register the mime type and append_mime function with output_area
     */
    OutputArea.prototype.register_mime_type(EXEC_MIME_TYPE, append_mime, {
      /* Is output safe? */
      safe: true,
      /* Index of renderer in `output_area.display_order` */
      index: 0
    });
  }

  // register the mime type if in Jupyter Notebook environment and previously unregistered
  if (root.Jupyter !== undefined) {
    const events = require('base/js/events');
    const OutputArea = require('notebook/js/outputarea').OutputArea;

    if (OutputArea.prototype.mime_types().indexOf(EXEC_MIME_TYPE) == -1) {
      register_renderer(events, OutputArea);
    }
  }
  if (typeof (root._bokeh_timeout) === "undefined" || force === true) {
    root._bokeh_timeout = Date.now() + 5000;
    root._bokeh_failed_load = false;
  }

  const NB_LOAD_WARNING = {'data': {'text/html':
     "<div style='background-color: #fdd'>\n"+
     "<p>\n"+
     "BokehJS does not appear to have successfully loaded. If loading BokehJS from CDN, this \n"+
     "may be due to a slow or bad network connection. Possible fixes:\n"+
     "</p>\n"+
     "<ul>\n"+
     "<li>re-rerun `output_notebook()` to attempt to load from CDN again, or</li>\n"+
     "<li>use INLINE resources instead, as so:</li>\n"+
     "</ul>\n"+
     "<code>\n"+
     "from bokeh.resources import INLINE\n"+
     "output_notebook(resources=INLINE)\n"+
     "</code>\n"+
     "</div>"}};

  function display_loaded() {
    const el = document.getElementById("a373c97e-6c79-4158-a30a-84141c629457");
    if (el != null) {
      el.textContent = "BokehJS is loading...";
    }
    if (root.Bokeh !== undefined) {
      if (el != null) {
        el.textContent = "BokehJS " + root.Bokeh.version + " successfully loaded.";
      }
    } else if (Date.now() < root._bokeh_timeout) {
      setTimeout(display_loaded, 100)
    }
  }

  function run_callbacks() {
    try {
      root._bokeh_onload_callbacks.forEach(function(callback) {
        if (callback != null)
          callback();
      });
    } finally {
      delete root._bokeh_onload_callbacks
    }
    console.debug("Bokeh: all callbacks have finished");
  }

  function load_libs(css_urls, js_urls, callback) {
    if (css_urls == null) css_urls = [];
    if (js_urls == null) js_urls = [];

    root._bokeh_onload_callbacks.push(callback);
    if (root._bokeh_is_loading > 0) {
      console.debug("Bokeh: BokehJS is being loaded, scheduling callback at", now());
      return null;
    }
    if (js_urls == null || js_urls.length === 0) {
      run_callbacks();
      return null;
    }
    console.debug("Bokeh: BokehJS not loaded, scheduling load and callback at", now());
    root._bokeh_is_loading = css_urls.length + js_urls.length;

    function on_load() {
      root._bokeh_is_loading--;
      if (root._bokeh_is_loading === 0) {
        console.debug("Bokeh: all BokehJS libraries/stylesheets loaded");
        run_callbacks()
      }
    }

    function on_error(url) {
      console.error("failed to load " + url);
    }

    for (let i = 0; i < css_urls.length; i++) {
      const url = css_urls[i];
      const element = document.createElement("link");
      element.onload = on_load;
      element.onerror = on_error.bind(null, url);
      element.rel = "stylesheet";
      element.type = "text/css";
      element.href = url;
      console.debug("Bokeh: injecting link tag for BokehJS stylesheet: ", url);
      document.body.appendChild(element);
    }

    for (let i = 0; i < js_urls.length; i++) {
      const url = js_urls[i];
      const element = document.createElement('script');
      element.onload = on_load;
      element.onerror = on_error.bind(null, url);
      element.async = false;
      element.src = url;
      console.debug("Bokeh: injecting script tag for BokehJS library: ", url);
      document.head.appendChild(element);
    }
  };

  function inject_raw_css(css) {
    const element = document.createElement("style");
    element.appendChild(document.createTextNode(css));
    document.body.appendChild(element);
  }

  const js_urls = ["https://cdn.bokeh.org/bokeh/release/bokeh-3.3.0.min.js", "https://cdn.bokeh.org/bokeh/release/bokeh-gl-3.3.0.min.js", "https://cdn.bokeh.org/bokeh/release/bokeh-widgets-3.3.0.min.js", "https://cdn.bokeh.org/bokeh/release/bokeh-tables-3.3.0.min.js", "https://cdn.bokeh.org/bokeh/release/bokeh-mathjax-3.3.0.min.js"];
  const css_urls = [];

  const inline_js = [    function(Bokeh) {
      Bokeh.set_log_level("info");
    },
function(Bokeh) {
    }
  ];

  function run_inline_js() {
    if (root.Bokeh !== undefined || force === true) {
          for (let i = 0; i < inline_js.length; i++) {
      inline_js[i].call(root, root.Bokeh);
    }
if (force === true) {
        display_loaded();
      }} else if (Date.now() < root._bokeh_timeout) {
      setTimeout(run_inline_js, 100);
    } else if (!root._bokeh_failed_load) {
      console.log("Bokeh: BokehJS failed to load within specified timeout.");
      root._bokeh_failed_load = true;
    } else if (force !== true) {
      const cell = $(document.getElementById("a373c97e-6c79-4158-a30a-84141c629457")).parents('.cell').data().cell;
      cell.output_area.append_execute_result(NB_LOAD_WARNING)
    }
  }

  if (root._bokeh_is_loading === 0) {
    console.debug("Bokeh: BokehJS loaded, going straight to plotting");
    run_inline_js();
  } else {
    load_libs(css_urls, js_urls, function() {
      console.debug("Bokeh: BokehJS plotting callback run at", now());
      run_inline_js();
    });
  }
}(window));
</script>
</div>
</div>
<div class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>bokeh.plotting.show(</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  de.explore(</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">"beta"</span>, </span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>    params<span class="op">=</span>[</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>      {<span class="st">"name"</span>: <span class="st">"alpha"</span>, <span class="st">"start"</span>: <span class="dv">1</span>, <span class="st">"end"</span>: <span class="dv">500</span>, <span class="st">"value"</span>: <span class="dv">50</span>, <span class="st">"step"</span>: <span class="dv">5</span>, <span class="st">"min_value"</span>: <span class="dv">1</span>, <span class="st">"max_value"</span>: <span class="dv">1000</span>}, </span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>      {<span class="st">"name"</span>: <span class="st">"beta"</span>, <span class="st">"start"</span>: <span class="dv">1</span>, <span class="st">"end"</span>: <span class="dv">500</span>, <span class="st">"value"</span>: <span class="dv">150</span>, <span class="st">"step"</span>: <span class="dv">5</span>, <span class="st">"min_value"</span>: <span class="dv">1</span>, <span class="st">"max_value"</span>: <span class="dv">1000</span>}</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>    ],</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>    x_min<span class="op">=</span><span class="dv">0</span>, </span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>    x_max<span class="op">=</span><span class="fl">.5</span>,</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">

  <div id="ed2ddeab-9d38-48bb-bc07-cb5bc976b5fc" data-root-id="p1109" style="display: contents;"></div>
</div>
<div class="cell-output cell-output-display">
<script type="application/javascript">
(function(root) {
  function embed_document(root) {
  const docs_json = {"34622e05-1b0b-40b1-b9f9-1d6c9a63ce0e":{"version":"3.3.0","title":"Bokeh Application","roots":[{"type":"object","name":"Column","id":"p1109","attributes":{"children":[{"type":"object","name":"Column","id":"p1097","attributes":{"children":[{"type":"object","name":"Row","id":"p1095","attributes":{"children":[{"type":"object","name":"TextInput","id":"p1087","attributes":{"js_property_callbacks":{"type":"map","entries":[["change:value",[{"type":"object","name":"CustomJS","id":"p1091","attributes":{"args":{"type":"map","entries":[["min_value",1],["max_value",1000],["slider",{"type":"object","name":"Slider","id":"p1085","attributes":{"js_property_callbacks":{"type":"map","entries":[["change:value",[{"type":"object","name":"CustomJS","id":"p1084","attributes":{"args":{"type":"map","entries":[["source_p",{"type":"object","name":"ColumnDataSource","id":"p1060","attributes":{"selected":{"type":"object","name":"Selection","id":"p1061","attributes":{"indices":[],"line_indices":[]}},"selection_policy":{"type":"object","name":"UnionRenderers","id":"p1062"},"data":{"type":"map","entries":[["x",{"type":"ndarray","array":{"type":"bytes","data":"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"},"shape":[400],"dtype":"float64","order":"little"}],["y_p",{"type":"ndarray","array":{"type":"bytes","data":"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"},"shape":[400],"dtype":"float64","order":"little"}]]}}}],["source_c",{"type":"object","name":"ColumnDataSource","id":"p1063","attributes":{"selected":{"type":"object","name":"Selection","id":"p1064","attributes":{"indices":[],"line_indices":[]}},"selection_policy":{"type":"object","name":"UnionRenderers","id":"p1065"},"data":{"type":"map","entries":[["x",{"type":"ndarray","array":{"type":"bytes","data":"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"},"shape":[400],"dtype":"float64","order":"little"}],["y_c",{"type":"ndarray","array":{"type":"bytes","data":"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///vP3F8CLf//+8/5IJiw///7z86gLPN///vP6fPTtb//+8/h+R63f//7z9gN3Pj///vP2Psaej//+8/9DyJ7P//7z+zrPTv///vPy0RyvL//+8/q3Ii9f//7z+MyxL3///vP+6qrPj//+8/yb7++f//7z8CSRX7///vP5iC+vv//+8/cu+2/P//7z80pVH9///vP/WG0P3//+8/inc4/v//7z/bg43+///vP24G0/7//+8/PcUL////7z+vCjr////vP4u6X////+8/b2N+////7z9mTZf////vPxiGq////+8/5eq7////7z9VMcn////vPxPu0////+8/u5rc////7z+rmuP////vP/Y+6f///+8/scnt////7z+mcPH////vP5Jf9P///+8/+bn2////7z+onPj////vP/Ye+v///+8/xFP7////7z9TSvz////vP/IO/f///+8/kKv9////7z8qKP7////vPy6L/v///+8/w9n+////7z8PGP/////vP2JJ/////+8/Y3D/////7z8zj//////vP4Gn/////+8/qLr/////7z+7yf/////vP5TV/////+8/4d7/////7z8s5v/////vP+Lr/////+8/WvD/////7z/Y8//////vP5H2/////+8/sPj/////7z8="},"shape":[400],"dtype":"float64","order":"little"}]]}}}],["dist","beta"],["discrete",false],["xrange",{"type":"object","name":"DataRange1d","id":"p1002","attributes":{"js_property_callbacks":{"type":"map","entries":[["change:start",[{"id":"p1084"}]],["change:end",[{"id":"p1084"}]]]},"range_padding":0}}],["n",400],["arg1",{"id":"p1085"}],["arg2",{"type":"object","name":"Slider","id":"p1086","attributes":{"js_property_callbacks":{"type":"map","entries":[["change:value",[{"id":"p1084"}]]]},"title":"beta","start":1,"end":500,"value":150,"step":5}}],["arg3",{"id":"p1085"}]]},"code":"function linspace(start, stop, n) {\n\tvar x = [];\n\tvar currValue = start;\n\tvar step = (stop - start) / (n - 1);\n\tfor (var i = 0; i < n; i++) {\n\t\tx.push(currValue);\n\t\tcurrValue += step;\n\t}\n\treturn x;\n}\n\nfunction update_y_p(probFun, x_p, arg1, arg2, arg3) {\n    // Compute PMF/PDF\n    var y_p = [];\n    for (var i = 0; i < x_p.length; i++) {\n      y_p.push(probFun(x_p[i], arg1, arg2, arg3));\n    }\n\n    return y_p;\n}\n\nfunction update_y_c_continuous(cdfFun, x_c, arg1, arg2, arg3) {\n    var y_c = [];\n    for (var i = 0; i < x_c.length; i ++)\n        y_c.push(cdfFun(x_c[i], arg1, arg2, arg3));\n\n    return y_c;\n}\n\nfunction lngamma(z) {\n    // Compute log of the Gamma function using Lanczos approx.,\n    // see https://en.wikipedia.org/wiki/Lanczos_approximation.\n\n    if(z < 0) return Number('0/0');\n\n    if (z < 0.5) return Math.log(Math.PI) - Math.log(Math.sin(Math.PI * z)) - lngamma(1-z);\n\n    var p = [676.5203681218851,\n             -1259.1392167224028,\n             771.32342877765313,\n             -176.61502916214059,\n             12.507343278686905,\n             -0.13857109526572012,\n             9.9843695780195716e-6,\n             1.5056327351493116e-7];\n\n    z -= 1.0;\n    var Ag = 0.99999999999980993;\n    for (var i = 0; i < p.length; i++) {\n        Ag += p[i] / (z + i + 1);\n    }\n    var t = z + p.length - 0.5;\n\n    return 0.5 * Math.log(2*Math.PI) + (z + 0.5)*Math.log(t) - t + Math.log(Ag);\n}\n\n\n\nfunction lnbeta(x, y) {\n    if (x < 0 || y < 0) {\n        throw RangeError('Arguments must be positive.');\n    }\n    else if (x === 0 && y === 0) return NaN;\n    else if (x === 0 || y === 0) return Infinity;\n\n    return lngamma(x) + lngamma(y) - lngamma(x + y);\n}\n\n\n\nfunction regularized_incomplete_beta(x, a, b) {\n    // From Andreas Madsen's mathfn, Copyright (c) 2013 Andreas Madsen\n    // Computes incomplete beta function as a continued fraction\n    if (x < 0 || x > 1) {\n        throw new RangeError('First argument must be between 0 and 1.');\n    }\n\n    // Special cases, there can make trouble otherwise\n    else if (a === 1 && b === 1) return x;\n    else if (x === 0) return 0;\n    else if (x === 1) return 1;\n    else if (a === 0) return 1;\n    else if (b === 0) return 0;\n\n    else {\n        var bt = Math.exp(lngamma(a + b) - lngamma(a) - lngamma(b) + a * Math.log(x) + b * log1p(-x));\n\n        // Use continued fraction directly.\n        if (x < (a + 1) / (a + b + 2)) return bt * betacf(x, a, b) / a;\n\n        // else use continued fraction after making the symmetry transformation.\n        else return 1 - bt * betacf(1 - x, b, a) / b;\n    }\n}\n\n\n\nfunction betacf(x, a, b) {\n    // From Andreas Madsen's mathfn, Copyright (c) 2013 Andreas Madsen\n    // Computes incomplete beta function as a continues fraction\n    var fpmin = 1e-30,\n        m = 1,\n        m2, aa, c, d, del, h, qab, qam, qap;\n    // These q's will be used in factors that occur in the coefficients\n    qab = a + b;\n    qap = a + 1;\n    qam = a - 1;\n    c = 1;\n    d = 1 - qab * x / qap;\n    if (Math.abs(d) < fpmin) d = fpmin;\n    d = 1 / d;\n    h = d;\n    for (; m <= 100; m++) {\n        m2 = 2 * m;\n        aa = m * (b - m) * x / ((qam + m2) * (a + m2));\n        // One step (the even one) of the recurrence\n        d = 1 + aa * d;\n        if (Math.abs(d) < fpmin) d = fpmin;\n        c = 1 + aa / c;\n        if (Math.abs(c) < fpmin) c = fpmin;\n        d = 1 / d;\n        h *= d * c;\n        aa = -(a + m) * (qab + m) * x / ((a + m2) * (qap + m2));\n        // Next step of the recurrence (the odd one)\n        d = 1 + aa * d;\n        if (Math.abs(d) < fpmin) d = fpmin;\n        c = 1 + aa / c;\n        if (Math.abs(c) < fpmin) c = fpmin;\n        d = 1 / d;\n        del = d * c;\n        h *= del;\n        if (Math.abs(del - 1.0) < 3e-7) break;\n    }\n    return h;\n}\n\n\n\nfunction log1p(x) {\n    // log of 1 + x, \n    // adapted from Andreas Madsen's mathfn, Copyright (c) 2013 Andreas Madsen\n    if (x <= -1.0) {\n        throw new RangeError('Argument must be greater than -1.0');\n    }\n\n    // x is large enough that the obvious evaluation is OK\n    else if (Math.abs(x) > 1e-4) {\n        return Math.log(1.0 + x);\n    }\n\n    // Use Taylor approx. log(1 + x) = x - x^2/2 with error roughly x^3/3\n    // Since |x| < 10^-4, |x|^3 < 10^-12, relative error less than 10^-8\n    else {\n        return (-0.5*x + 1.0)*x;\n    }\n}\n\n\n\nfunction isone(x) {\n    return Math.abs(1.0 - x) <= 1.0e-8;\n}\n\n\n\nfunction iszero(x) {\n    return Math.abs(x) <= 1.0e-8;\n}\n\n\n\nfunction probFun(x, alpha, beta, {}) {\n    if (x < 0) return NaN;\n    if (x > 1) return NaN;\n\n    if (iszero(x)) {\n        if (alpha == 1) {\n            return Math.exp(-lnbeta(alpha, beta));\n        }\n        else if (alpha > 1) {\n            return 0.0;\n        }\n        else {\n            return NaN;\n        }\n    }\n    else if (isone(x)) {\n        if (beta == 1) {\n            return Math.exp(-lnbeta(alpha, beta));\n        }\n        else if (beta > 1) {\n            return 0.0;\n        }\n        else {\n            return NaN;\n        }\n    }\n\n    let lnprob = (alpha - 1.0) * Math.log(x) + (beta - 1.0) * Math.log(1.0 - x) - lnbeta(alpha, beta);\n\n    return Math.exp(lnprob);\n}\n\nfunction cdfFun(x, alpha, beta, {}) {\n    if (x < 0) return 0.0;\n    if (x > 1) return 1.0;\n\n    return regularized_incomplete_beta(x, alpha, beta);\n}\n\n// Extract data from sources\nvar data_p = source_p.data;\nvar data_c = source_c.data;\nvar x_p = data_p['x'];\nvar y_p = data_p['y_p'];\nvar x_c = data_c['x'];\nvar y_c = data_c['y_c'];\nvar xRangeMin = xrange.start;\nvar xRangeMax = xrange.end;\n\n// Make corrections for start and end points based on support\n// We're not doing this now because we want to allow zooming\n// JS codes now make anything outside of support NaN.\n// if (dist == 'lognormal' \n//     || dist == 'gamma' \n//     || dist == 'exponential' \n//     || dist == 'inv_gamma'\n//     || dist == 'weibull') {\n// \txRangeMin = 0.0;\n// }\n// else if (dist == 'beta') { \n//     xRangeMin = 0.0;\n//     xRangeMax = 1.0;\n// }\n\n// x-values to evaluate PDF and CDF\nx_p = linspace(xRangeMin, xRangeMax, n);\nx_c = x_p;\n\n// Update sources with new x-values\nsource_p.data['x'] = x_p;\nsource_c.data['x'] = x_c;\n\n// Update the PDF and CDF\nsource_p.data['y_p'] = update_y_p(probFun, \n    x_p, arg1.value, arg2.value, arg3.value);\nsource_c.data['y_c'] = update_y_c_continuous(cdfFun, \n    x_c, arg1.value, arg2.value, arg3.value);\n\nsource_p.change.emit();\nsource_c.change.emit();\n"}}]]]},"title":"alpha","start":1,"end":500,"value":50,"step":5}}]]},"code":"\n    slider.start = Math.max(min_value, Number(cb_obj.value));\n"}}]]]},"width":70,"value":"1"}},{"id":"p1085"},{"type":"object","name":"TextInput","id":"p1089","attributes":{"js_property_callbacks":{"type":"map","entries":[["change:value",[{"type":"object","name":"CustomJS","id":"p1092","attributes":{"args":{"type":"map","entries":[["min_value",1],["max_value",1000],["slider",{"id":"p1085"}]]},"code":"\nslider.end = Math.min(max_value, Number(cb_obj.value));\n"}}]]]},"width":70,"value":"500"}}]}},{"type":"object","name":"Row","id":"p1096","attributes":{"children":[{"type":"object","name":"TextInput","id":"p1088","attributes":{"js_property_callbacks":{"type":"map","entries":[["change:value",[{"type":"object","name":"CustomJS","id":"p1093","attributes":{"args":{"type":"map","entries":[["min_value",1],["max_value",1000],["slider",{"id":"p1086"}]]},"code":"\n    slider.start = Math.max(min_value, Number(cb_obj.value));\n"}}]]]},"width":70,"value":"1"}},{"id":"p1086"},{"type":"object","name":"TextInput","id":"p1090","attributes":{"js_property_callbacks":{"type":"map","entries":[["change:value",[{"type":"object","name":"CustomJS","id":"p1094","attributes":{"args":{"type":"map","entries":[["min_value",1],["max_value",1000],["slider",{"id":"p1086"}]]},"code":"\nslider.end = Math.min(max_value, Number(cb_obj.value));\n"}}]]]},"width":70,"value":"500"}}]}}]}},{"type":"object","name":"Spacer","id":"p1108","attributes":{"height":10}},{"type":"object","name":"GridPlot","id":"p1106","attributes":{"rows":null,"cols":null,"toolbar":{"type":"object","name":"Toolbar","id":"p1105","attributes":{"tools":[{"type":"object","name":"ToolProxy","id":"p1099","attributes":{"tools":[{"type":"object","name":"PanTool","id":"p1023"},{"type":"object","name":"PanTool","id":"p1052"}]}},{"type":"object","name":"ToolProxy","id":"p1100","attributes":{"tools":[{"type":"object","name":"WheelZoomTool","id":"p1024","attributes":{"renderers":"auto"}},{"type":"object","name":"WheelZoomTool","id":"p1053","attributes":{"renderers":"auto"}}]}},{"type":"object","name":"ToolProxy","id":"p1101","attributes":{"tools":[{"type":"object","name":"BoxZoomTool","id":"p1025","attributes":{"overlay":{"type":"object","name":"BoxAnnotation","id":"p1026","attributes":{"syncable":false,"level":"overlay","visible":false,"left_units":"canvas","right_units":"canvas","top_units":"canvas","bottom_units":"canvas","line_color":"black","line_alpha":1.0,"line_width":2,"line_dash":[4,4],"fill_color":"lightgrey","fill_alpha":0.5}}}},{"type":"object","name":"BoxZoomTool","id":"p1054","attributes":{"overlay":{"type":"object","name":"BoxAnnotation","id":"p1055","attributes":{"syncable":false,"level":"overlay","visible":false,"left_units":"canvas","right_units":"canvas","top_units":"canvas","bottom_units":"canvas","line_color":"black","line_alpha":1.0,"line_width":2,"line_dash":[4,4],"fill_color":"lightgrey","fill_alpha":0.5}}}}]}},{"type":"object","name":"SaveTool","id":"p1102"},{"type":"object","name":"ToolProxy","id":"p1103","attributes":{"tools":[{"type":"object","name":"ResetTool","id":"p1028"},{"type":"object","name":"ResetTool","id":"p1057"}]}},{"type":"object","name":"ToolProxy","id":"p1104","attributes":{"tools":[{"type":"object","name":"HelpTool","id":"p1029"},{"type":"object","name":"HelpTool","id":"p1058"}]}}]}},"toolbar_location":"right","children":[[{"type":"object","name":"Figure","id":"p1001","attributes":{"x_range":{"id":"p1002"},"y_range":{"type":"object","name":"DataRange1d","id":"p1003","attributes":{"start":0.0}},"x_scale":{"type":"object","name":"LinearScale","id":"p1011"},"y_scale":{"type":"object","name":"LinearScale","id":"p1012"},"title":{"type":"object","name":"Title","id":"p1004","attributes":{"text":"Beta"}},"renderers":[{"type":"object","name":"GlyphRenderer","id":"p1081","attributes":{"data_source":{"id":"p1060"},"view":{"type":"object","name":"CDSView","id":"p1082","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1083"}}},"glyph":{"type":"object","name":"Line","id":"p1078","attributes":{"x":{"type":"field","field":"x"},"y":{"type":"field","field":"y_p"},"line_color":"#1f77b4","line_width":2}},"nonselection_glyph":{"type":"object","name":"Line","id":"p1079","attributes":{"x":{"type":"field","field":"x"},"y":{"type":"field","field":"y_p"},"line_color":"#1f77b4","line_alpha":0.1,"line_width":2}},"muted_glyph":{"type":"object","name":"Line","id":"p1080","attributes":{"x":{"type":"field","field":"x"},"y":{"type":"field","field":"y_p"},"line_color":"#1f77b4","line_alpha":0.2,"line_width":2}}}}],"toolbar":{"type":"object","name":"Toolbar","id":"p1010","attributes":{"tools":[{"id":"p1023"},{"id":"p1024"},{"id":"p1025"},{"type":"object","name":"SaveTool","id":"p1027"},{"id":"p1028"},{"id":"p1029"}]}},"toolbar_location":null,"left":[{"type":"object","name":"LinearAxis","id":"p1018","attributes":{"ticker":{"type":"object","name":"BasicTicker","id":"p1019","attributes":{"mantissas":[1,2,5]}},"formatter":{"type":"object","name":"BasicTickFormatter","id":"p1020"},"axis_label":"PDF","major_label_policy":{"type":"object","name":"AllLabels","id":"p1021"}}}],"below":[{"type":"object","name":"LinearAxis","id":"p1013","attributes":{"ticker":{"type":"object","name":"BasicTicker","id":"p1014","attributes":{"mantissas":[1,2,5]}},"formatter":{"type":"object","name":"BasicTickFormatter","id":"p1015"},"axis_label":"\u03b8","major_label_policy":{"type":"object","name":"AllLabels","id":"p1016"}}}],"center":[{"type":"object","name":"Grid","id":"p1017","attributes":{"axis":{"id":"p1013"}}},{"type":"object","name":"Grid","id":"p1022","attributes":{"dimension":1,"axis":{"id":"p1018"}}}],"frame_width":300,"frame_height":175}},0,0],[{"type":"object","name":"Spacer","id":"p1098","attributes":{"width":30}},0,1],[{"type":"object","name":"Figure","id":"p1030","attributes":{"x_range":{"id":"p1002"},"y_range":{"type":"object","name":"Range1d","id":"p1059","attributes":{"start":-0.05,"end":1.05}},"x_scale":{"type":"object","name":"LinearScale","id":"p1040"},"y_scale":{"type":"object","name":"LinearScale","id":"p1041"},"title":{"type":"object","name":"Title","id":"p1033","attributes":{"text":" "}},"renderers":[{"type":"object","name":"GlyphRenderer","id":"p1072","attributes":{"data_source":{"id":"p1063"},"view":{"type":"object","name":"CDSView","id":"p1073","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1074"}}},"glyph":{"type":"object","name":"Line","id":"p1069","attributes":{"x":{"type":"field","field":"x"},"y":{"type":"field","field":"y_c"},"line_color":"#1f77b4","line_width":2}},"nonselection_glyph":{"type":"object","name":"Line","id":"p1070","attributes":{"x":{"type":"field","field":"x"},"y":{"type":"field","field":"y_c"},"line_color":"#1f77b4","line_alpha":0.1,"line_width":2}},"muted_glyph":{"type":"object","name":"Line","id":"p1071","attributes":{"x":{"type":"field","field":"x"},"y":{"type":"field","field":"y_c"},"line_color":"#1f77b4","line_alpha":0.2,"line_width":2}}}}],"toolbar":{"type":"object","name":"Toolbar","id":"p1039","attributes":{"tools":[{"id":"p1052"},{"id":"p1053"},{"id":"p1054"},{"type":"object","name":"SaveTool","id":"p1056"},{"id":"p1057"},{"id":"p1058"}]}},"toolbar_location":null,"left":[{"type":"object","name":"LinearAxis","id":"p1047","attributes":{"ticker":{"type":"object","name":"BasicTicker","id":"p1048","attributes":{"mantissas":[1,2,5]}},"formatter":{"type":"object","name":"BasicTickFormatter","id":"p1049"},"axis_label":"CDF","major_label_policy":{"type":"object","name":"AllLabels","id":"p1050"}}}],"below":[{"type":"object","name":"LinearAxis","id":"p1042","attributes":{"ticker":{"type":"object","name":"BasicTicker","id":"p1043","attributes":{"mantissas":[1,2,5]}},"formatter":{"type":"object","name":"BasicTickFormatter","id":"p1044"},"axis_label":"\u03b8","major_label_policy":{"type":"object","name":"AllLabels","id":"p1045"}}}],"center":[{"type":"object","name":"Grid","id":"p1046","attributes":{"axis":{"id":"p1042"}}},{"type":"object","name":"Grid","id":"p1051","attributes":{"dimension":1,"axis":{"id":"p1047"}}}],"frame_width":300,"frame_height":175}},0,2]]}}]}}]}};
  const render_items = [{"docid":"34622e05-1b0b-40b1-b9f9-1d6c9a63ce0e","roots":{"p1109":"ed2ddeab-9d38-48bb-bc07-cb5bc976b5fc"},"root_ids":["p1109"]}];
  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);
  }
  if (root.Bokeh !== undefined) {
    embed_document(root);
  } else {
    let attempts = 0;
    const timer = setInterval(function(root) {
      if (root.Bokeh !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else {
        attempts++;
        if (attempts > 100) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 10, root)
  }
})(window);
</script>
</div>
</div>
<p>We can then model hits as being drawn from a Binomial distribution with probability of success given by the beta distribution. For the first 45 at bats our prior predictive distribution looks something like this:</p>
<div class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>bokeh.plotting.show(</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  de.explore(</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">"binomial"</span>, </span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>    params<span class="op">=</span>[</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>      {<span class="st">"name"</span>: <span class="st">"N"</span>, <span class="st">"start"</span>: <span class="dv">1</span>, <span class="st">"end"</span>: <span class="dv">50</span>, <span class="st">"value"</span>: <span class="dv">50</span>, <span class="st">"step"</span>: <span class="dv">1</span>, <span class="st">"min_value"</span>: <span class="dv">1</span>, <span class="st">"max_value"</span>: <span class="dv">1000</span>}, </span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>      {<span class="st">"name"</span>: <span class="st">"theta"</span>, <span class="st">"start"</span>: <span class="dv">0</span>, <span class="st">"end"</span>: <span class="dv">1</span>, <span class="st">"value"</span>: <span class="fl">.25</span>, <span class="st">"step"</span>: <span class="fl">.1</span>, <span class="st">"min_value"</span>: <span class="dv">0</span>, <span class="st">"max_value"</span>: <span class="dv">1</span>}</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>    ],</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>    x_min<span class="op">=</span><span class="dv">0</span>, </span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>    x_max<span class="op">=</span><span class="dv">50</span>,</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">

  <div id="c0ca8ef2-81ad-4968-8b2c-15ea2018d7e6" data-root-id="p1231" style="display: contents;"></div>
</div>
<div class="cell-output cell-output-display">
<script type="application/javascript">
(function(root) {
  function embed_document(root) {
  const docs_json = {"de7b6893-9ff3-4fa7-adb6-344a8db40d98":{"version":"3.3.0","title":"Bokeh Application","roots":[{"type":"object","name":"Column","id":"p1231","attributes":{"children":[{"type":"object","name":"Column","id":"p1219","attributes":{"children":[{"type":"object","name":"Row","id":"p1217","attributes":{"children":[{"type":"object","name":"TextInput","id":"p1209","attributes":{"js_property_callbacks":{"type":"map","entries":[["change:value",[{"type":"object","name":"CustomJS","id":"p1213","attributes":{"args":{"type":"map","entries":[["min_value",1],["max_value",1000],["slider",{"type":"object","name":"Slider","id":"p1207","attributes":{"js_property_callbacks":{"type":"map","entries":[["change:value",[{"type":"object","name":"CustomJS","id":"p1206","attributes":{"args":{"type":"map","entries":[["source_p",{"type":"object","name":"ColumnDataSource","id":"p1173","attributes":{"selected":{"type":"object","name":"Selection","id":"p1174","attributes":{"indices":[],"line_indices":[]}},"selection_policy":{"type":"object","name":"UnionRenderers","id":"p1175"},"data":{"type":"map","entries":[["x",{"type":"ndarray","array":{"type":"bytes","data":"AAAAAAEAAAACAAAAAwAAAAQAAAAFAAAABgAAAAcAAAAIAAAACQAAAAoAAAALAAAADAAAAA0AAAAOAAAADwAAABAAAAARAAAAEgAAABMAAAAUAAAAFQAAABYAAAAXAAAAGAAAABkAAAAaAAAAGwAAABwAAAAdAAAAHgAAAB8AAAAgAAAAIQAAACIAAAAjAAAAJAAAACUAAAAmAAAAJwAAACgAAAApAAAAKgAAACsAAAAsAAAALQAAAC4AAAAvAAAAMAAAADEAAAAyAAAA"},"shape":[51],"dtype":"int32","order":"little"}],["y_p",{"type":"ndarray","array":{"type":"bytes","data":"52UbfqoAoz5OilxDXMvjPrx3bi/uNBQ/XUqTlD3xOj8EjiVMjGFaPzUxg1y4OXQ/i/2jcyZIiT/Q2G4LWXyaPzui6MQPuqc/qJpfJ0V0sj9wZL6kgDi5PwZykUsQkr4/acjuKB6PwD+XGOInbCLAP4R0FDppbbw/NV0QyO29tj+b7osMKJWwP8joD2Y1HKY/Y1VMYAgGmz93HIednVeOP0V76USJWn8//NZ8+FHcbT8IGgFmvD1aPwAKf1YTTEU/BY++AR3yLz+hZmWXKCYWPwS4/h1vZfw+DVrGEdDT4D6U3MClFG7CPn+bQbxPpKI+10xOSShmgT7KIz8CEe9dPp5RxyGYsjc+2AzujBE8ET5kZj0RwvrmPd2BzrpcA7w9unPlJC4gjz2Xcl8192dfPSMBe5y0piw9AaXhSziC9zxXvel7XD3BPA9Wty71bIY8DdBjNRihSTzu/+e9O24JPPb/X5nVk8U76///tx6wfjv3//+/RcoxOwoAAABgJuA6CwAAAICIhTrs/////78iOgAAAAAAALA5"},"shape":[51],"dtype":"float64","order":"little"}]]}}}],["source_c",{"type":"object","name":"ColumnDataSource","id":"p1176","attributes":{"selected":{"type":"object","name":"Selection","id":"p1177","attributes":{"indices":[],"line_indices":[]}},"selection_policy":{"type":"object","name":"UnionRenderers","id":"p1178"},"data":{"type":"map","entries":[["x",{"type":"ndarray","array":{"type":"bytes","data":"ZmZmZmZm7r8AAAAAAAAAAAAAAAAAAAAAAAAAAAAA8D8AAAAAAADwPwAAAAAAAABAAAAAAAAAAEAAAAAAAAAIQAAAAAAAAAhAAAAAAAAAEEAAAAAAAAAQQAAAAAAAABRAAAAAAAAAFEAAAAAAAAAYQAAAAAAAABhAAAAAAAAAHEAAAAAAAAAcQAAAAAAAACBAAAAAAAAAIEAAAAAAAAAiQAAAAAAAACJAAAAAAAAAJEAAAAAAAAAkQAAAAAAAACZAAAAAAAAAJkAAAAAAAAAoQAAAAAAAAChAAAAAAAAAKkAAAAAAAAAqQAAAAAAAACxAAAAAAAAALEAAAAAAAAAuQAAAAAAAAC5AAAAAAAAAMEAAAAAAAAAwQAAAAAAAADFAAAAAAAAAMUAAAAAAAAAyQAAAAAAAADJAAAAAAAAAM0AAAAAAAAAzQAAAAAAAADRAAAAAAAAANEAAAAAAAAA1QAAAAAAAADVAAAAAAAAANkAAAAAAAAA2QAAAAAAAADdAAAAAAAAAN0AAAAAAAAA4QAAAAAAAADhAAAAAAAAAOUAAAAAAAAA5QAAAAAAAADpAAAAAAAAAOkAAAAAAAAA7QAAAAAAAADtAAAAAAAAAPEAAAAAAAAA8QAAAAAAAAD1AAAAAAAAAPUAAAAAAAAA+QAAAAAAAAD5AAAAAAAAAP0AAAAAAAAA/QAAAAAAAAEBAAAAAAAAAQEAAAAAAAIBAQAAAAAAAgEBAAAAAAAAAQUAAAAAAAABBQAAAAAAAgEFAAAAAAACAQUAAAAAAAABCQAAAAAAAAEJAAAAAAACAQkAAAAAAAIBCQAAAAAAAAENAAAAAAAAAQ0AAAAAAAIBDQAAAAAAAgENAAAAAAAAAREAAAAAAAABEQAAAAAAAgERAAAAAAACAREAAAAAAAABFQAAAAAAAAEVAAAAAAACARUAAAAAAAIBFQAAAAAAAAEZAAAAAAAAARkAAAAAAAIBGQAAAAAAAgEZAAAAAAAAAR0AAAAAAAABHQAAAAAAAgEdAAAAAAACAR0AAAAAAAABIQAAAAAAAAEhAAAAAAACASEAAAAAAAIBIQAAAAAAAAElAAAAAAAAASUCamZmZmXlJQA=="},"shape":[104],"dtype":"float64","order":"little"}],["y_c",{"type":"ndarray","array":{"type":"bytes","data":"AAAAAAAAAAAAAAAAAAAAAAJmG36qAKM+AmYbfqoAoz6aQD7rZvvkPppAPutm++Q+2D/WDFvUFj/YP9YMW9QWPylt5CsqU0A/KW3kKypTQD9c4guxkEVhP1ziC7GQRWE/bCIJtYDcfD9sIgm1gNx8P2JHFGcz25M/YkcUZzPbkz8gkEE5xiunPyCQQTnGK6c/NBkV/+pytz80GRX/6nK3P+5ZOhOY88Q/7lk6E5jzxD8Txswy7MfQPxPGzDLsx9A/kiKxRXBs2D+SIrFFcGzYP2JDFK3/WeA/YkMUrf9Z4D+JyQy3mmLkP4nJDLeaYuQ/GVhP3kfw5z8ZWE/eR/DnP8BjUZcFyOo/wGNRlwXI6j+T4eKYqtrsP5Ph4piq2uw/IeBD72087j8h4EPvbTzuP8xCRjKeFO8/zEJGMp4U7z8/X7yo/I3vPz9fvKj8je8/NjJGu7HM7z82Mka7sczvPw2vPg2O6u8/Da8+DY7q7z+ar3HrrPfvP5qvceus9+8/XE9H8P/87z9cT0fw//zvP0VrFxL//u8/RWsXEv/+7z9wJlxDsP/vP3AmXEOw/+8/bmI6Dun/7z9uYjoO6f/vPzR0CuL5/+8/NHQK4vn/7z+knY99/v/vP6Sdj33+/+8/aZnUp///7z9pmdSn///vP446be3//+8/jjpt7f//7z8Pw2T8///vPw/DZPz//+8/ExZb////7z8TFlv////vP6D25P///+8/oPbk////7z9i8fv////vP2Lx+////+8/zXH/////7z/Ncf/////vP07u/////+8/Tu7/////7z8C/v/////vPwL+/////+8/zP//////7z/M///////vP/v//////+8/+///////7z8AAAAAAADwPwAAAAAAAPA/AAAAAAAA8D8AAAAAAADwPwAAAAAAAPA/AAAAAAAA8D8AAAAAAADwPwAAAAAAAPA/AAAAAAAA8D8AAAAAAADwPwAAAAAAAPA/AAAAAAAA8D8AAAAAAADwPwAAAAAAAPA/AAAAAAAA8D8AAAAAAADwPwAAAAAAAPA/AAAAAAAA8D8AAAAAAADwPwAAAAAAAPA/AAAAAAAA8D8AAAAAAADwPw=="},"shape":[104],"dtype":"float64","order":"little"}]]}}}],["dist","binomial"],["discrete",true],["xrange",{"type":"object","name":"DataRange1d","id":"p1115","attributes":{"js_property_callbacks":{"type":"map","entries":[["change:start",[{"id":"p1206"}]],["change:end",[{"id":"p1206"}]]]},"range_padding":0}}],["n",400],["arg1",{"id":"p1207"}],["arg2",{"type":"object","name":"Slider","id":"p1208","attributes":{"js_property_callbacks":{"type":"map","entries":[["change:value",[{"id":"p1206"}]]]},"title":"theta","start":0,"end":1,"value":0.25,"step":0.1}}],["arg3",{"id":"p1207"}]]},"code":"function arange(start, stop) {\n\tvar x = [];\n\tfor (var i = start; i < stop; i++) x.push(i);\n\treturn x;\n}\n\nfunction discrete_cdf(cumsum, y_p) {\n    var y_c = [];\n\n    y_c.push(cumsum, cumsum);\n    for (var i = 0; i < y_p.length; i++) {\n        if (!isNaN(y_p[i])) cumsum += y_p[i];\n        y_c.push(cumsum, cumsum);\n    }\n\n    return y_c;\n}\n\nfunction update_y_p(probFun, x_p, arg1, arg2, arg3) {\n    // Compute PMF/PDF\n    var y_p = [];\n    for (var i = 0; i < x_p.length; i++) {\n      y_p.push(probFun(x_p[i], arg1, arg2, arg3));\n    }\n\n    return y_p;\n}\n\nfunction update_y_c_discrete(probFun, x_p, y_p, arg1, arg2, arg3) {\n    // Compute CDF\n    var cumsum = 0.0;\n    var summand = 0.0;\n    for (var i = 0; i < x_p[0]; i++) {\n        summand = probFun(x_p[i], arg1, arg2, arg3);\n        if (!isNaN(summand)) cumsum += summand;\n    }\n\n    y_c = discrete_cdf(cumsum, y_p);\n    return y_c;\n}\n\nfunction lnchoice(n, k) {\n    return lnfactorial(n) - lnfactorial(n-k) - lnfactorial(k);\n}\n\n\n\nfunction lnfactorial(n) {\n  if (n > 254) { // Use Stirling's approximation\n    var x = n + 1;\n    return (x - 0.5)*Math.log(x) - x + 0.5*Math.log(2*Math.PI) + 1.0/(12.0*x);\n  }\n  else { // Look it up\n    const lnfact = [0.000000000000000,\n                    0.000000000000000,\n                    0.693147180559945,\n                    1.791759469228055,\n                    3.178053830347946,\n                    4.787491742782046,\n                    6.579251212010101,\n                    8.525161361065415,\n                    10.604602902745251,\n                    12.801827480081469,\n                    15.104412573075516,\n                    17.502307845873887,\n                    19.987214495661885,\n                    22.552163853123421,\n                    25.191221182738683,\n                    27.899271383840894,\n                    30.671860106080675,\n                    33.505073450136891,\n                    36.395445208033053,\n                    39.339884187199495,\n                    42.335616460753485,\n                    45.380138898476908,\n                    48.471181351835227,\n                    51.606675567764377,\n                    54.784729398112319,\n                    58.003605222980518,\n                    61.261701761002001,\n                    64.557538627006323,\n                    67.889743137181526,\n                    71.257038967168000,\n                    74.658236348830158,\n                    78.092223553315307,\n                    81.557959456115029,\n                    85.054467017581516,\n                    88.580827542197682,\n                    92.136175603687079,\n                    95.719694542143202,\n                    99.330612454787428,\n                    102.968198614513810,\n                    106.631760260643450,\n                    110.320639714757390,\n                    114.034211781461690,\n                    117.771881399745060,\n                    121.533081515438640,\n                    125.317271149356880,\n                    129.123933639127240,\n                    132.952575035616290,\n                    136.802722637326350,\n                    140.673923648234250,\n                    144.565743946344900,\n                    148.477766951773020,\n                    152.409592584497350,\n                    156.360836303078800,\n                    160.331128216630930,\n                    164.320112263195170,\n                    168.327445448427650,\n                    172.352797139162820,\n                    176.395848406997370,\n                    180.456291417543780,\n                    184.533828861449510,\n                    188.628173423671600,\n                    192.739047287844900,\n                    196.866181672889980,\n                    201.009316399281570,\n                    205.168199482641200,\n                    209.342586752536820,\n                    213.532241494563270,\n                    217.736934113954250,\n                    221.956441819130360,\n                    226.190548323727570,\n                    230.439043565776930,\n                    234.701723442818260,\n                    238.978389561834350,\n                    243.268849002982730,\n                    247.572914096186910,\n                    251.890402209723190,\n                    256.221135550009480,\n                    260.564940971863220,\n                    264.921649798552780,\n                    269.291097651019810,\n                    273.673124285693690,\n                    278.067573440366120,\n                    282.474292687630400,\n                    286.893133295426990,\n                    291.323950094270290,\n                    295.766601350760600,\n                    300.220948647014100,\n                    304.686856765668720,\n                    309.164193580146900,\n                    313.652829949878990,\n                    318.152639620209300,\n                    322.663499126726210,\n                    327.185287703775200,\n                    331.717887196928470,\n                    336.261181979198450,\n                    340.815058870798960,\n                    345.379407062266860,\n                    349.954118040770250,\n                    354.539085519440790,\n                    359.134205369575340,\n                    363.739375555563470,\n                    368.354496072404690,\n                    372.979468885689020,\n                    377.614197873918670,\n                    382.258588773060010,\n                    386.912549123217560,\n                    391.575988217329610,\n                    396.248817051791490,\n                    400.930948278915760,\n                    405.622296161144900,\n                    410.322776526937280,\n                    415.032306728249580,\n                    419.750805599544780,\n                    424.478193418257090,\n                    429.214391866651570,\n                    433.959323995014870,\n                    438.712914186121170,\n                    443.475088120918940,\n                    448.245772745384610,\n                    453.024896238496130,\n                    457.812387981278110,\n                    462.608178526874890,\n                    467.412199571608080,\n                    472.224383926980520,\n                    477.044665492585580,\n                    481.872979229887900,\n                    486.709261136839360,\n                    491.553448223298010,\n                    496.405478487217580,\n                    501.265290891579240,\n                    506.132825342034830,\n                    511.008022665236070,\n                    515.890824587822520,\n                    520.781173716044240,\n                    525.679013515995050,\n                    530.584288294433580,\n                    535.496943180169520,\n                    540.416924105997740,\n                    545.344177791154950,\n                    550.278651724285620,\n                    555.220294146894960,\n                    560.169054037273100,\n                    565.124881094874350,\n                    570.087725725134190,\n                    575.057539024710200,\n                    580.034272767130800,\n                    585.017879388839220,\n                    590.008311975617860,\n                    595.005524249382010,\n                    600.009470555327430,\n                    605.020105849423770,\n                    610.037385686238740,\n                    615.061266207084940,\n                    620.091704128477430,\n                    625.128656730891070,\n                    630.172081847810200,\n                    635.221937855059760,\n                    640.278183660408100,\n                    645.340778693435030,\n                    650.409682895655240,\n                    655.484856710889060,\n                    660.566261075873510,\n                    665.653857411105950,\n                    670.747607611912710,\n                    675.847474039736880,\n                    680.953419513637530,\n                    686.065407301994010,\n                    691.183401114410800,\n                    696.307365093814040,\n                    701.437263808737160,\n                    706.573062245787470,\n                    711.714725802289990,\n                    716.862220279103440,\n                    722.015511873601330,\n                    727.174567172815840,\n                    732.339353146739310,\n                    737.509837141777440,\n                    742.685986874351220,\n                    747.867770424643370,\n                    753.055156230484160,\n                    758.248113081374300,\n                    763.446610112640200,\n                    768.650616799717000,\n                    773.860102952558460,\n                    779.075038710167410,\n                    784.295394535245690,\n                    789.521141208958970,\n                    794.752249825813460,\n                    799.988691788643450,\n                    805.230438803703120,\n                    810.477462875863580,\n                    815.729736303910160,\n                    820.987231675937890,\n                    826.249921864842800,\n                    831.517780023906310,\n                    836.790779582469900,\n                    842.068894241700490,\n                    847.352097970438420,\n                    852.640365001133090,\n                    857.933669825857460,\n                    863.231987192405430,\n                    868.535292100464630,\n                    873.843559797865740,\n                    879.156765776907600,\n                    884.474885770751830,\n                    889.797895749890240,\n                    895.125771918679900,\n                    900.458490711945270,\n                    905.796028791646340,\n                    911.138363043611210,\n                    916.485470574328820,\n                    921.837328707804890,\n                    927.193914982476710,\n                    932.555207148186240,\n                    937.921183163208070,\n                    943.291821191335660,\n                    948.667099599019820,\n                    954.046996952560450,\n                    959.431492015349480,\n                    964.820563745165940,\n                    970.214191291518320,\n                    975.612353993036210,\n                    981.015031374908400,\n                    986.422203146368590,\n                    991.833849198223450,\n                    997.249949600427840,\n                    1002.670484599700300,\n                    1008.095434617181700,\n                    1013.524780246136200,\n                    1018.958502249690200,\n                    1024.396581558613400,\n                    1029.838999269135500,\n                    1035.285736640801600,\n                    1040.736775094367400,\n                    1046.192096209724900,\n                    1051.651681723869200,\n                    1057.115513528895000,\n                    1062.583573670030100,\n                    1068.055844343701400,\n                    1073.532307895632800,\n                    1079.012946818975000,\n                    1084.497743752465600,\n                    1089.986681478622400,\n                    1095.479742921962700,\n                    1100.976911147256000,\n                    1106.478169357800900,\n                    1111.983500893733000,\n                    1117.492889230361000,\n                    1123.006317976526100,\n                    1128.523770872990800,\n                    1134.045231790853000,\n                    1139.570684729984800,\n                    1145.100113817496100,\n                    1150.633503306223700,\n                    1156.170837573242400];\n    return lnfact[n];\n  }\n}\n\n\n\nfunction probFun(n, N, theta, {}) {\n    if (n > N || n < 0) return NaN;\n\n    if (theta == 0) {\n        if (n == 0) return 1.0;\n        return 0.0;\n    }\n\n    if (theta == 1) {\n        if (n == N) return 1.0;\n        return 0.0;\n    }\n\n    return Math.exp(lnchoice(N, n)\n                    + n * Math.log(theta)\n                    + (N - n) * Math.log(1-theta));\n}\n\n// Extract data from sources\nvar data_p = source_p.data;\nvar data_c = source_c.data;\nvar x_p = data_p['x'];\nvar y_p = data_p['y_p'];\nvar x_c = data_c['x'];\nvar y_c = data_c['y_c'];\nvar xRangeMin = xrange.start;\nvar xRangeMax = xrange.end;\n\n// Make corrections for start and end points for discrete distributions\nif (dist == 'bernoulli') {\n\txRangeMin = 0.0;\n\txRangeMax = 1.0;\n}\nelse if (dist == 'categorical') {\n\txRangeMin = 1;\n\txRangeMax = x_p.length;\n}\nelse {\n  \txRangeMin = Math.max(0, Math.floor(xRangeMin));\n\txRangeMax = Math.floor(xRangeMax);\n}\n\n// x-values to evaluate PMF and CDF\nx_p = arange(xRangeMin, xRangeMax+1);\nlet xSize = xRangeMax - xRangeMin;\n\nx_c = [];\nfor (var i = 0; i < x_p.length; i++) x_c.push(x_p[i], x_p[i]);\n\nx_c.unshift(Math.max(xRangeMin - 0.05 * xSize, xRangeMin - 0.95));\nx_c.push(Math.min(xRangeMax + 0.05 * xSize, xRangeMax + 0.95));\n\n// Update sources with new x-values\nsource_p.data['x'] = x_p;\nsource_c.data['x'] = x_c;\n\n// Update the PMF and CDF\nsource_p.data['y_p'] = update_y_p(probFun, \n    x_p, arg1.value, arg2.value, arg3.value);\nsource_c.data['y_c'] = update_y_c_discrete(probFun, \n\tx_c, source_p.data['y_p'], arg1.value, arg2.value, arg3.value);\n\nsource_p.change.emit();\nsource_c.change.emit();\n"}}]]]},"title":"N","start":1,"end":50,"value":50}}]]},"code":"\n    slider.start = Math.max(min_value, Number(cb_obj.value));\n"}}]]]},"width":70,"value":"1"}},{"id":"p1207"},{"type":"object","name":"TextInput","id":"p1211","attributes":{"js_property_callbacks":{"type":"map","entries":[["change:value",[{"type":"object","name":"CustomJS","id":"p1214","attributes":{"args":{"type":"map","entries":[["min_value",1],["max_value",1000],["slider",{"id":"p1207"}]]},"code":"\nslider.end = Math.min(max_value, Number(cb_obj.value));\n"}}]]]},"width":70,"value":"50"}}]}},{"type":"object","name":"Row","id":"p1218","attributes":{"children":[{"type":"object","name":"TextInput","id":"p1210","attributes":{"js_property_callbacks":{"type":"map","entries":[["change:value",[{"type":"object","name":"CustomJS","id":"p1215","attributes":{"args":{"type":"map","entries":[["min_value",0],["max_value",1],["slider",{"id":"p1208"}]]},"code":"\n    slider.start = Math.max(min_value, Number(cb_obj.value));\n"}}]]]},"width":70,"value":"0"}},{"id":"p1208"},{"type":"object","name":"TextInput","id":"p1212","attributes":{"js_property_callbacks":{"type":"map","entries":[["change:value",[{"type":"object","name":"CustomJS","id":"p1216","attributes":{"args":{"type":"map","entries":[["min_value",0],["max_value",1],["slider",{"id":"p1208"}]]},"code":"\nslider.end = Math.min(max_value, Number(cb_obj.value));\n"}}]]]},"width":70,"value":"1"}}]}}]}},{"type":"object","name":"Spacer","id":"p1230","attributes":{"height":10}},{"type":"object","name":"GridPlot","id":"p1228","attributes":{"rows":null,"cols":null,"toolbar":{"type":"object","name":"Toolbar","id":"p1227","attributes":{"tools":[{"type":"object","name":"ToolProxy","id":"p1221","attributes":{"tools":[{"type":"object","name":"PanTool","id":"p1136"},{"type":"object","name":"PanTool","id":"p1165"}]}},{"type":"object","name":"ToolProxy","id":"p1222","attributes":{"tools":[{"type":"object","name":"WheelZoomTool","id":"p1137","attributes":{"renderers":"auto"}},{"type":"object","name":"WheelZoomTool","id":"p1166","attributes":{"renderers":"auto"}}]}},{"type":"object","name":"ToolProxy","id":"p1223","attributes":{"tools":[{"type":"object","name":"BoxZoomTool","id":"p1138","attributes":{"overlay":{"type":"object","name":"BoxAnnotation","id":"p1139","attributes":{"syncable":false,"level":"overlay","visible":false,"left_units":"canvas","right_units":"canvas","top_units":"canvas","bottom_units":"canvas","line_color":"black","line_alpha":1.0,"line_width":2,"line_dash":[4,4],"fill_color":"lightgrey","fill_alpha":0.5}}}},{"type":"object","name":"BoxZoomTool","id":"p1167","attributes":{"overlay":{"type":"object","name":"BoxAnnotation","id":"p1168","attributes":{"syncable":false,"level":"overlay","visible":false,"left_units":"canvas","right_units":"canvas","top_units":"canvas","bottom_units":"canvas","line_color":"black","line_alpha":1.0,"line_width":2,"line_dash":[4,4],"fill_color":"lightgrey","fill_alpha":0.5}}}}]}},{"type":"object","name":"SaveTool","id":"p1224"},{"type":"object","name":"ToolProxy","id":"p1225","attributes":{"tools":[{"type":"object","name":"ResetTool","id":"p1141"},{"type":"object","name":"ResetTool","id":"p1170"}]}},{"type":"object","name":"ToolProxy","id":"p1226","attributes":{"tools":[{"type":"object","name":"HelpTool","id":"p1142"},{"type":"object","name":"HelpTool","id":"p1171"}]}}]}},"toolbar_location":"right","children":[[{"type":"object","name":"Figure","id":"p1114","attributes":{"x_range":{"id":"p1115"},"y_range":{"type":"object","name":"DataRange1d","id":"p1116"},"x_scale":{"type":"object","name":"LinearScale","id":"p1124"},"y_scale":{"type":"object","name":"LinearScale","id":"p1125"},"title":{"type":"object","name":"Title","id":"p1117","attributes":{"text":"Binomial"}},"renderers":[{"type":"object","name":"GlyphRenderer","id":"p1194","attributes":{"data_source":{"id":"p1173"},"view":{"type":"object","name":"CDSView","id":"p1195","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1196"}}},"glyph":{"type":"object","name":"Circle","id":"p1191","attributes":{"x":{"type":"field","field":"x"},"y":{"type":"field","field":"y_p"},"size":{"type":"value","value":5},"line_color":{"type":"value","value":"#1f77b4"},"fill_color":{"type":"value","value":"#1f77b4"}}},"nonselection_glyph":{"type":"object","name":"Circle","id":"p1192","attributes":{"x":{"type":"field","field":"x"},"y":{"type":"field","field":"y_p"},"size":{"type":"value","value":5},"line_color":{"type":"value","value":"#1f77b4"},"line_alpha":{"type":"value","value":0.1},"fill_color":{"type":"value","value":"#1f77b4"},"fill_alpha":{"type":"value","value":0.1},"hatch_alpha":{"type":"value","value":0.1}}},"muted_glyph":{"type":"object","name":"Circle","id":"p1193","attributes":{"x":{"type":"field","field":"x"},"y":{"type":"field","field":"y_p"},"size":{"type":"value","value":5},"line_color":{"type":"value","value":"#1f77b4"},"line_alpha":{"type":"value","value":0.2},"fill_color":{"type":"value","value":"#1f77b4"},"fill_alpha":{"type":"value","value":0.2},"hatch_alpha":{"type":"value","value":0.2}}}}},{"type":"object","name":"GlyphRenderer","id":"p1203","attributes":{"data_source":{"id":"p1173"},"view":{"type":"object","name":"CDSView","id":"p1204","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1205"}}},"glyph":{"type":"object","name":"Segment","id":"p1200","attributes":{"x0":{"type":"field","field":"x"},"y0":{"type":"value","value":0},"x1":{"type":"field","field":"x"},"y1":{"type":"field","field":"y_p"},"line_color":{"type":"value","value":"#1f77b4"},"line_width":{"type":"value","value":2}}},"nonselection_glyph":{"type":"object","name":"Segment","id":"p1201","attributes":{"x0":{"type":"field","field":"x"},"y0":{"type":"value","value":0},"x1":{"type":"field","field":"x"},"y1":{"type":"field","field":"y_p"},"line_color":{"type":"value","value":"#1f77b4"},"line_alpha":{"type":"value","value":0.1},"line_width":{"type":"value","value":2}}},"muted_glyph":{"type":"object","name":"Segment","id":"p1202","attributes":{"x0":{"type":"field","field":"x"},"y0":{"type":"value","value":0},"x1":{"type":"field","field":"x"},"y1":{"type":"field","field":"y_p"},"line_color":{"type":"value","value":"#1f77b4"},"line_alpha":{"type":"value","value":0.2},"line_width":{"type":"value","value":2}}}}}],"toolbar":{"type":"object","name":"Toolbar","id":"p1123","attributes":{"tools":[{"id":"p1136"},{"id":"p1137"},{"id":"p1138"},{"type":"object","name":"SaveTool","id":"p1140"},{"id":"p1141"},{"id":"p1142"}]}},"toolbar_location":null,"left":[{"type":"object","name":"LinearAxis","id":"p1131","attributes":{"ticker":{"type":"object","name":"BasicTicker","id":"p1132","attributes":{"mantissas":[1,2,5]}},"formatter":{"type":"object","name":"BasicTickFormatter","id":"p1133"},"axis_label":"PMF","major_label_policy":{"type":"object","name":"AllLabels","id":"p1134"}}}],"below":[{"type":"object","name":"LinearAxis","id":"p1126","attributes":{"ticker":{"type":"object","name":"BasicTicker","id":"p1127","attributes":{"mantissas":[1,2,5]}},"formatter":{"type":"object","name":"BasicTickFormatter","id":"p1128"},"axis_label":"n","major_label_policy":{"type":"object","name":"AllLabels","id":"p1129"}}}],"center":[{"type":"object","name":"Grid","id":"p1130","attributes":{"axis":{"id":"p1126"}}},{"type":"object","name":"Grid","id":"p1135","attributes":{"dimension":1,"axis":{"id":"p1131"}}}],"frame_width":300,"frame_height":175}},0,0],[{"type":"object","name":"Spacer","id":"p1220","attributes":{"width":30}},0,1],[{"type":"object","name":"Figure","id":"p1143","attributes":{"x_range":{"id":"p1115"},"y_range":{"type":"object","name":"Range1d","id":"p1172","attributes":{"start":-0.05,"end":1.05}},"x_scale":{"type":"object","name":"LinearScale","id":"p1153"},"y_scale":{"type":"object","name":"LinearScale","id":"p1154"},"title":{"type":"object","name":"Title","id":"p1146","attributes":{"text":" "}},"renderers":[{"type":"object","name":"GlyphRenderer","id":"p1185","attributes":{"data_source":{"id":"p1176"},"view":{"type":"object","name":"CDSView","id":"p1186","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1187"}}},"glyph":{"type":"object","name":"Line","id":"p1182","attributes":{"x":{"type":"field","field":"x"},"y":{"type":"field","field":"y_c"},"line_color":"#1f77b4","line_width":2}},"nonselection_glyph":{"type":"object","name":"Line","id":"p1183","attributes":{"x":{"type":"field","field":"x"},"y":{"type":"field","field":"y_c"},"line_color":"#1f77b4","line_alpha":0.1,"line_width":2}},"muted_glyph":{"type":"object","name":"Line","id":"p1184","attributes":{"x":{"type":"field","field":"x"},"y":{"type":"field","field":"y_c"},"line_color":"#1f77b4","line_alpha":0.2,"line_width":2}}}}],"toolbar":{"type":"object","name":"Toolbar","id":"p1152","attributes":{"tools":[{"id":"p1165"},{"id":"p1166"},{"id":"p1167"},{"type":"object","name":"SaveTool","id":"p1169"},{"id":"p1170"},{"id":"p1171"}]}},"toolbar_location":null,"left":[{"type":"object","name":"LinearAxis","id":"p1160","attributes":{"ticker":{"type":"object","name":"BasicTicker","id":"p1161","attributes":{"mantissas":[1,2,5]}},"formatter":{"type":"object","name":"BasicTickFormatter","id":"p1162"},"axis_label":"CDF","major_label_policy":{"type":"object","name":"AllLabels","id":"p1163"}}}],"below":[{"type":"object","name":"LinearAxis","id":"p1155","attributes":{"ticker":{"type":"object","name":"BasicTicker","id":"p1156","attributes":{"mantissas":[1,2,5]}},"formatter":{"type":"object","name":"BasicTickFormatter","id":"p1157"},"axis_label":"n","major_label_policy":{"type":"object","name":"AllLabels","id":"p1158"}}}],"center":[{"type":"object","name":"Grid","id":"p1159","attributes":{"axis":{"id":"p1155"}}},{"type":"object","name":"Grid","id":"p1164","attributes":{"dimension":1,"axis":{"id":"p1160"}}}],"frame_width":300,"frame_height":175}},0,2]]}}]}}]}};
  const render_items = [{"docid":"de7b6893-9ff3-4fa7-adb6-344a8db40d98","roots":{"p1231":"c0ca8ef2-81ad-4968-8b2c-15ea2018d7e6"},"root_ids":["p1231"]}];
  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);
  }
  if (root.Bokeh !== undefined) {
    embed_document(root);
  } else {
    let attempts = 0;
    const timer = setInterval(function(root) {
      if (root.Bokeh !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else {
        attempts++;
        if (attempts > 100) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 10, root)
  }
})(window);
</script>
</div>
</div>
<p>For many simulated seasons of at bats, we expect the distribution of hits for a true .250 batter to look like this</p>
<div class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>bokeh.plotting.show(</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  de.explore(</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">"binomial"</span>, </span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>    params<span class="op">=</span>[</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>      {<span class="st">"name"</span>: <span class="st">"N"</span>, <span class="st">"start"</span>: <span class="dv">1</span>, <span class="st">"end"</span>: <span class="dv">750</span>, <span class="st">"value"</span>: <span class="dv">750</span>, <span class="st">"step"</span>: <span class="dv">5</span>, <span class="st">"min_value"</span>: <span class="dv">1</span>, <span class="st">"max_value"</span>: <span class="dv">1000</span>}, </span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>      {<span class="st">"name"</span>: <span class="st">"theta"</span>, <span class="st">"start"</span>: <span class="dv">0</span>, <span class="st">"end"</span>: <span class="dv">1</span>, <span class="st">"value"</span>: <span class="fl">.25</span>, <span class="st">"step"</span>: <span class="fl">.1</span>, <span class="st">"min_value"</span>: <span class="dv">0</span>, <span class="st">"max_value"</span>: <span class="dv">1</span>}</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>    ],</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>    x_min<span class="op">=</span><span class="dv">0</span>, </span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>    x_max<span class="op">=</span><span class="dv">300</span>,</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">

  <div id="d79defc2-d2bd-49ad-9725-300fe0493dc9" data-root-id="p1353" style="display: contents;"></div>
</div>
<div class="cell-output cell-output-display">
<script type="application/javascript">
(function(root) {
  function embed_document(root) {
  const docs_json = {"151737cf-56d8-4e6a-aa37-59b7a0496a0f":{"version":"3.3.0","title":"Bokeh Application","roots":[{"type":"object","name":"Column","id":"p1353","attributes":{"children":[{"type":"object","name":"Column","id":"p1341","attributes":{"children":[{"type":"object","name":"Row","id":"p1339","attributes":{"children":[{"type":"object","name":"TextInput","id":"p1331","attributes":{"js_property_callbacks":{"type":"map","entries":[["change:value",[{"type":"object","name":"CustomJS","id":"p1335","attributes":{"args":{"type":"map","entries":[["min_value",1],["max_value",1000],["slider",{"type":"object","name":"Slider","id":"p1329","attributes":{"js_property_callbacks":{"type":"map","entries":[["change:value",[{"type":"object","name":"CustomJS","id":"p1328","attributes":{"args":{"type":"map","entries":[["source_p",{"type":"object","name":"ColumnDataSource","id":"p1295","attributes":{"selected":{"type":"object","name":"Selection","id":"p1296","attributes":{"indices":[],"line_indices":[]}},"selection_policy":{"type":"object","name":"UnionRenderers","id":"p1297"},"data":{"type":"map","entries":[["x",{"type":"ndarray","array":{"type":"bytes","data":"AAAAAAEAAAACAAAAAwAAAAQAAAAFAAAABgAAAAcAAAAIAAAACQAAAAoAAAALAAAADAAAAA0AAAAOAAAADwAAABAAAAARAAAAEgAAABMAAAAUAAAAFQAAABYAAAAXAAAAGAAAABkAAAAaAAAAGwAAABwAAAAdAAAAHgAAAB8AAAAgAAAAIQAAACIAAAAjAAAAJAAAACUAAAAmAAAAJwAAACgAAAApAAAAKgAAACsAAAAsAAAALQAAAC4AAAAvAAAAMAAAADEAAAAyAAAAMwAAADQAAAA1AAAANgAAADcAAAA4AAAAOQAAADoAAAA7AAAAPAAAAD0AAAA+AAAAPwAAAEAAAABBAAAAQgAAAEMAAABEAAAARQAAAEYAAABHAAAASAAAAEkAAABKAAAASwAAAEwAAABNAAAATgAAAE8AAABQAAAAUQAAAFIAAABTAAAAVAAAAFUAAABWAAAAVwAAAFgAAABZAAAAWgAAAFsAAABcAAAAXQAAAF4AAABfAAAAYAAAAGEAAABiAAAAYwAAAGQAAABlAAAAZgAAAGcAAABoAAAAaQAAAGoAAABrAAAAbAAAAG0AAABuAAAAbwAAAHAAAABxAAAAcgAAAHMAAAB0AAAAdQAAAHYAAAB3AAAAeAAAAHkAAAB6AAAAewAAAHwAAAB9AAAAfgAAAH8AAACAAAAAgQAAAIIAAACDAAAAhAAAAIUAAACGAAAAhwAAAIgAAACJAAAAigAAAIsAAACMAAAAjQAAAI4AAACPAAAAkAAAAJEAAACSAAAAkwAAAJQAAACVAAAAlgAAAJcAAACYAAAAmQAAAJoAAACbAAAAnAAAAJ0AAACeAAAAnwAAAKAAAAChAAAAogAAAKMAAACkAAAApQAAAKYAAACnAAAAqAAAAKkAAACqAAAAqwAAAKwAAACtAAAArgAAAK8AAACwAAAAsQAAALIAAACzAAAAtAAAALUAAAC2AAAAtwAAALgAAAC5AAAAugAAALsAAAC8AAAAvQAAAL4AAAC/AAAAwAAAAMEAAADCAAAAwwAAAMQAAADFAAAAxgAAAMcAAADIAAAAyQAAAMoAAADLAAAAzAAAAM0AAADOAAAAzwAAANAAAADRAAAA0gAAANMAAADUAAAA1QAAANYAAADXAAAA2AAAANkAAADaAAAA2wAAANwAAADdAAAA3gAAAN8AAADgAAAA4QAAAOIAAADjAAAA5AAAAOUAAADmAAAA5wAAAOgAAADpAAAA6gAAAOsAAADsAAAA7QAAAO4AAADvAAAA8AAAAPEAAADyAAAA8wAAAPQAAAD1AAAA9gAAAPcAAAD4AAAA+QAAAPoAAAD7AAAA/AAAAP0AAAD+AAAA/wAAAAABAAABAQAAAgEAAAMBAAAEAQAABQEAAAYBAAAHAQAACAEAAAkBAAAKAQAACwEAAAwBAAANAQAADgEAAA8BAAAQAQAAEQEAABIBAAATAQAAFAEAABUBAAAWAQAAFwEAABgBAAAZAQAAGgEAABsBAAAcAQAAHQEAAB4BAAAfAQAAIAEAACEBAAAiAQAAIwEAACQBAAAlAQAAJgEAACcBAAAoAQAAKQEAACoBAAArAQAALAEAAA=="},"shape":[301],"dtype":"int32","order":"little"}],["y_p",{"type":"ndarray","array":{"type":"bytes","data":"BF15aKJjeiyQgwaaTMX5LGex4bQVImktDqY5369R0C1bJz4g6L4vLsr12qVIq4guNTMvoTTo3y5gR4Nrr6kxLyAArrV+FoEvEea3oplZzS8JvzJjj6cWMAT5a94rwF8wnl8gXSpepDBA517fwBboMGSd4W49ayoxvmH9wIgBazEUf7Lgd9ipMcrd8PyTP+cxwClLljK5IzJvY/93SqlfMgVEG1/XG5gyiKxuyK910TLFnl4QNxsIM5eE81DZyj8z2h4WQTwQdDPSuINE2EaoMzu9bPDFNNwzZ44EbaeDDzR9u4A19/NANJbvlz8XlnE0C3Dn/VecoTThW2zM6QrRNHiNbcMZ6f80CgE4etPtLDWWCGQ7U2tZNTmIGVG4qoU1i1mr5irusTX5+kNXfNXcNfWiqSPVigY24lIEVMclMTa7zgwOXGZZNhw0VUK+U4I2ma0rVBfIqTYDktAw+K/RNqt78A4Fr/c2ELz9Qdb2HjdXbJOE+cVDN+A1cUN+rmg3T/FPGqIfjjdSmZV1X/uxN8X7QSRGAtU3e1ot3p4H+DdSCkSA/+oaOP27NRPDij04yd9zNaPGXzjC0iUqLMGAOH8qWnz5U6E4PVKv9tOUwTjfUWGIbYHhOEkNfBQnHAE51gfc1rprIDkxUxSAEPU+OZIZMck0q1w5g2hw4hAXejm7jI4aolaXOWXtWQKdhrQ58/oxsrXA0Tn2f2AryjTuOUiLRLprSAk6hWnfBibTJDqb1uLMCeJAOr+HBzsH81o6y9djRs4tdTovIABBVGSQOg65y+90/qg6A0ZAtfPFwjpSCXXbEsrbOti9mypFRfQ6zQAPElkmDTt/ytb/w6kkO8AOccqm4jw7A4oy5yLpUzvqQV+63BJrO3o4ldtoKII7F6yxqMMHmDuuiWz9emGvO4cqSeWcOMQ7Sa49bM+42TuxLZiXNibwO59nCIsvBQQ8czSnYZuBGDxrXtUee58tPMa52s+7rkE8yPEX6vnZVDy+ztenLEpoPL5ofOpa9Hs8oEAXf97Jjzz/cUjTTtyhPBGxXwfA1bM8uglQr47FxTwRpQNLT5/XPOutzmljVuk85iIRDYre+jzd/GPtciwMPaRJENtKNh09S4lsoDf0LT0WHDTUumA+PQhY3dT0eE49LlbziMM8Xj0knvo/u65tPRtL3eb603w91brXbN+ziz3LtBF0nFeaPU/jDAvCyag96qMFFLgVtz0Wh0MkOEfFPdpyXxLOadM9M5RaPGaI4T0oALzc3VnvPYmN7+IgwPs9P+AgsPpRCD4O2n2StRoVPtZ0VvJ9IiI+72gREwvdLj4eIH1digI6PgP6YmuptUU+o5vut6DyUT4wqnZJD2VdPtiXQhFQ2Gc+tBhrcogpcz7GEUgwHoN+Ptad+w1xEYg+BZvbN5LPkj6qPh5HtCKdPvQrn/XnW6Y+vTOzyP4AsT5NtaQMgKG5Ps/UkFMrJcM+blaPlwtZzD4XtW5VUM3UPtCfhUsQQ94+EnHIufHR5T7pc989ijHvPhyx8D7AGvY+rCjFrREP/z5cTU2zVKIFP1JOT0H64Q0/U4mymMJ2FD8gouR4zcobP+ReE73ztiI/UiS9K5X+KD+ZwRDUeI0wP8UClg1UvjU/Q0TQ9f1TPD8Ju4VRik1CP6R6KYCNdUc/Kuw2w0PTTT/3Ikj6l85SPx9qkh1Sh1c/Pzq96nszXT+VsU9JGPphP5i5D0ib9WU/k1wFWwSdaj/9zPlzKwBwP1IuVMkYF3M/7rXOZYiZdj9DfGYnQox6P0E/EHov8n4/LNOEcfrlgT8BwuglyYuEPxjuTckHaIc/WqNIg512ij9GOrWgv7GNP8icn0/1iJA/FJ7zp/VGkj9+XmqyfA2UP+kjivpx1pU/YU6+zSeblz/sh+dwglSZP1jVtFom+5o/pOHp36uHnD/eZ5xd1vKdP28OIqTMNZ8/1U7zHCgloD9WOemBeJWgPwUikX2d6aA/iKz06u0foT/mZF9yXzehP8h85u+OL6E/FBYb9MIIoT/hX99L6MOgP+JGP8eIYqA/WkOfe3nNnz+x5kkaMKaeP7+8pf8mVZ0/gwngXOfgmz8bUor9XFCaPxW7es6gqpg/UoFRHcX2lj8Eh3SIpTuVP/Je+ke8f5M/+dgLGP7IkT/Hn7mjvRyQPzSAY8Yt/4w/6jt78MTqiT8ErVprYQKHPyEdmlyXSoQ/6xKQ0n7GgT/Bb064nO9+PwXgZAX7vXo/h/dSl9n2dj9eYsf2IZdzPxM1bv8+mnA/i8W2rej0az9f+zfsYmJnP1wk38e7bmM/7ImP2TkLYD+lGF8zH1JaPzxufl93c1U/teHasapeUT8ph2JRF/NLP8q85Y3BV0Y/Dhi2ayu/QT8IwIb7RwM8PwEz0xHo9zU/uX/rMXseMT/SVMdIB4MqPxILRAtTZiQ/c+ovpi8yHz92OQZDG7QXP5TNwDDc5RE/eOsLkxjcCj/UVbgDbwcEP0WCu0p1r/0+Wk9WgMDc9T7npe+aWADwPuCWNaNfR+c+iOy40C7U4D5u7KgLwC7YPq2xiB+7RNE+tymEY/uCyD5YhLf5VUrBPufGWAygPrg+jCB+QQ7lsD53opcCRGenPoVycWaZHKA+/Ntu1sYMlj4Vped+uf6NPpBRs1JlR4Q+kj1zVXVBez4Fp+kx8TRyPscIXIrULWg+PkuXHTvrXz4VaW9qXPFUPrYDaf6wUUs+gOjAx3i2QT4DrH6xN9U2Pu86ZZxeQi0+jM+VZ/+iIj7W9VMhCZoXPreJNJrEtg0+6cW/Qk2YAj4VbiGlHyP3PUlWi9r0nuw9/+Nuj1aZ4T3k9QrVaYTVPUVqccOwJ8o9PzDEv6ubvz2eJ1qFCv2yPSXFB9m+rqY9ycq1CGjwmj3w8NGrW8+PPXJ9LCU7rII9YeBNw9rLdT3ZEG2740tpPUM8fbrIMF09OWarWey+UD1tZ1dNfxpDPWj+HjRBqzU9dJes5mZwKD0TGPGfG2gbPQ+QxAZrjw49HPCXiBjxAD11ZuGAiK3yPOoPYky6eeQ8ACOJLcpR1jx7cCfERDHIPG8lzQE1E7o8tvlyCDfyqzz9W2ywj8idPA/NnT1IkI88x3VOzKahgDzBbLsYyW1xPGa4BcWYKWI8hmvTI0rSUjzJUmfMSWVDPIH7RFtN4DM85L5JqGJBJDwHjPbk/IYUPPTSPyf/rwQ82Hqr/MO79Ds="},"shape":[301],"dtype":"float64","order":"little"}]]}}}],["source_c",{"type":"object","name":"ColumnDataSource","id":"p1298","attributes":{"selected":{"type":"object","name":"Selection","id":"p1299","attributes":{"indices":[],"line_indices":[]}},"selection_policy":{"type":"object","name":"UnionRenderers","id":"p1300"},"data":{"type":"map","entries":[["x",{"type":"ndarray","array":{"type":"bytes","data":"ZmZmZmZm7r8AAAAAAAAAAAAAAAAAAAAAAAAAAAAA8D8AAAAAAADwPwAAAAAAAABAAAAAAAAAAEAAAAAAAAAIQAAAAAAAAAhAAAAAAAAAEEAAAAAAAAAQQAAAAAAAABRAAAAAAAAAFEAAAAAAAAAYQAAAAAAAABhAAAAAAAAAHEAAAAAAAAAcQAAAAAAAACBAAAAAAAAAIEAAAAAAAAAiQAAAAAAAACJAAAAAAAAAJEAAAAAAAAAkQAAAAAAAACZAAAAAAAAAJkAAAAAAAAAoQAAAAAAAAChAAAAAAAAAKkAAAAAAAAAqQAAAAAAAACxAAAAAAAAALEAAAAAAAAAuQAAAAAAAAC5AAAAAAAAAMEAAAAAAAAAwQAAAAAAAADFAAAAAAAAAMUAAAAAAAAAyQAAAAAAAADJAAAAAAAAAM0AAAAAAAAAzQAAAAAAAADRAAAAAAAAANEAAAAAAAAA1QAAAAAAAADVAAAAAAAAANkAAAAAAAAA2QAAAAAAAADdAAAAAAAAAN0AAAAAAAAA4QAAAAAAAADhAAAAAAAAAOUAAAAAAAAA5QAAAAAAAADpAAAAAAAAAOkAAAAAAAAA7QAAAAAAAADtAAAAAAAAAPEAAAAAAAAA8QAAAAAAAAD1AAAAAAAAAPUAAAAAAAAA+QAAAAAAAAD5AAAAAAAAAP0AAAAAAAAA/QAAAAAAAAEBAAAAAAAAAQEAAAAAAAIBAQAAAAAAAgEBAAAAAAAAAQUAAAAAAAABBQAAAAAAAgEFAAAAAAACAQUAAAAAAAABCQAAAAAAAAEJAAAAAAACAQkAAAAAAAIBCQAAAAAAAAENAAAAAAAAAQ0AAAAAAAIBDQAAAAAAAgENAAAAAAAAAREAAAAAAAABEQAAAAAAAgERAAAAAAACAREAAAAAAAABFQAAAAAAAAEVAAAAAAACARUAAAAAAAIBFQAAAAAAAAEZAAAAAAAAARkAAAAAAAIBGQAAAAAAAgEZAAAAAAAAAR0AAAAAAAABHQAAAAAAAgEdAAAAAAACAR0AAAAAAAABIQAAAAAAAAEhAAAAAAACASEAAAAAAAIBIQAAAAAAAAElAAAAAAAAASUAAAAAAAIBJQAAAAAAAgElAAAAAAAAASkAAAAAAAABKQAAAAAAAgEpAAAAAAACASkAAAAAAAABLQAAAAAAAAEtAAAAAAACAS0AAAAAAAIBLQAAAAAAAAExAAAAAAAAATEAAAAAAAIBMQAAAAAAAgExAAAAAAAAATUAAAAAAAABNQAAAAAAAgE1AAAAAAACATUAAAAAAAABOQAAAAAAAAE5AAAAAAACATkAAAAAAAIBOQAAAAAAAAE9AAAAAAAAAT0AAAAAAAIBPQAAAAAAAgE9AAAAAAAAAUEAAAAAAAABQQAAAAAAAQFBAAAAAAABAUEAAAAAAAIBQQAAAAAAAgFBAAAAAAADAUEAAAAAAAMBQQAAAAAAAAFFAAAAAAAAAUUAAAAAAAEBRQAAAAAAAQFFAAAAAAACAUUAAAAAAAIBRQAAAAAAAwFFAAAAAAADAUUAAAAAAAABSQAAAAAAAAFJAAAAAAABAUkAAAAAAAEBSQAAAAAAAgFJAAAAAAACAUkAAAAAAAMBSQAAAAAAAwFJAAAAAAAAAU0AAAAAAAABTQAAAAAAAQFNAAAAAAABAU0AAAAAAAIBTQAAAAAAAgFNAAAAAAADAU0AAAAAAAMBTQAAAAAAAAFRAAAAAAAAAVEAAAAAAAEBUQAAAAAAAQFRAAAAAAACAVEAAAAAAAIBUQAAAAAAAwFRAAAAAAADAVEAAAAAAAABVQAAAAAAAAFVAAAAAAABAVUAAAAAAAEBVQAAAAAAAgFVAAAAAAACAVUAAAAAAAMBVQAAAAAAAwFVAAAAAAAAAVkAAAAAAAABWQAAAAAAAQFZAAAAAAABAVkAAAAAAAIBWQAAAAAAAgFZAAAAAAADAVkAAAAAAAMBWQAAAAAAAAFdAAAAAAAAAV0AAAAAAAEBXQAAAAAAAQFdAAAAAAACAV0AAAAAAAIBXQAAAAAAAwFdAAAAAAADAV0AAAAAAAABYQAAAAAAAAFhAAAAAAABAWEAAAAAAAEBYQAAAAAAAgFhAAAAAAACAWEAAAAAAAMBYQAAAAAAAwFhAAAAAAAAAWUAAAAAAAABZQAAAAAAAQFlAAAAAAABAWUAAAAAAAIBZQAAAAAAAgFlAAAAAAADAWUAAAAAAAMBZQAAAAAAAAFpAAAAAAAAAWkAAAAAAAEBaQAAAAAAAQFpAAAAAAACAWkAAAAAAAIBaQAAAAAAAwFpAAAAAAADAWkAAAAAAAABbQAAAAAAAAFtAAAAAAABAW0AAAAAAAEBbQAAAAAAAgFtAAAAAAACAW0AAAAAAAMBbQAAAAAAAwFtAAAAAAAAAXEAAAAAAAABcQAAAAAAAQFxAAAAAAABAXEAAAAAAAIBcQAAAAAAAgFxAAAAAAADAXEAAAAAAAMBcQAAAAAAAAF1AAAAAAAAAXUAAAAAAAEBdQAAAAAAAQF1AAAAAAACAXUAAAAAAAIBdQAAAAAAAwF1AAAAAAADAXUAAAAAAAABeQAAAAAAAAF5AAAAAAABAXkAAAAAAAEBeQAAAAAAAgF5AAAAAAACAXkAAAAAAAMBeQAAAAAAAwF5AAAAAAAAAX0AAAAAAAABfQAAAAAAAQF9AAAAAAABAX0AAAAAAAIBfQAAAAAAAgF9AAAAAAADAX0AAAAAAAMBfQAAAAAAAAGBAAAAAAAAAYEAAAAAAACBgQAAAAAAAIGBAAAAAAABAYEAAAAAAAEBgQAAAAAAAYGBAAAAAAABgYEAAAAAAAIBgQAAAAAAAgGBAAAAAAACgYEAAAAAAAKBgQAAAAAAAwGBAAAAAAADAYEAAAAAAAOBgQAAAAAAA4GBAAAAAAAAAYUAAAAAAAABhQAAAAAAAIGFAAAAAAAAgYUAAAAAAAEBhQAAAAAAAQGFAAAAAAABgYUAAAAAAAGBhQAAAAAAAgGFAAAAAAACAYUAAAAAAAKBhQAAAAAAAoGFAAAAAAADAYUAAAAAAAMBhQAAAAAAA4GFAAAAAAADgYUAAAAAAAABiQAAAAAAAAGJAAAAAAAAgYkAAAAAAACBiQAAAAAAAQGJAAAAAAABAYkAAAAAAAGBiQAAAAAAAYGJAAAAAAACAYkAAAAAAAIBiQAAAAAAAoGJAAAAAAACgYkAAAAAAAMBiQAAAAAAAwGJAAAAAAADgYkAAAAAAAOBiQAAAAAAAAGNAAAAAAAAAY0AAAAAAACBjQAAAAAAAIGNAAAAAAABAY0AAAAAAAEBjQAAAAAAAYGNAAAAAAABgY0AAAAAAAIBjQAAAAAAAgGNAAAAAAACgY0AAAAAAAKBjQAAAAAAAwGNAAAAAAADAY0AAAAAAAOBjQAAAAAAA4GNAAAAAAAAAZEAAAAAAAABkQAAAAAAAIGRAAAAAAAAgZEAAAAAAAEBkQAAAAAAAQGRAAAAAAABgZEAAAAAAAGBkQAAAAAAAgGRAAAAAAACAZEAAAAAAAKBkQAAAAAAAoGRAAAAAAADAZEAAAAAAAMBkQAAAAAAA4GRAAAAAAADgZEAAAAAAAABlQAAAAAAAAGVAAAAAAAAgZUAAAAAAACBlQAAAAAAAQGVAAAAAAABAZUAAAAAAAGBlQAAAAAAAYGVAAAAAAACAZUAAAAAAAIBlQAAAAAAAoGVAAAAAAACgZUAAAAAAAMBlQAAAAAAAwGVAAAAAAADgZUAAAAAAAOBlQAAAAAAAAGZAAAAAAAAAZkAAAAAAACBmQAAAAAAAIGZAAAAAAABAZkAAAAAAAEBmQAAAAAAAYGZAAAAAAABgZkAAAAAAAIBmQAAAAAAAgGZAAAAAAACgZkAAAAAAAKBmQAAAAAAAwGZAAAAAAADAZkAAAAAAAOBmQAAAAAAA4GZAAAAAAAAAZ0AAAAAAAABnQAAAAAAAIGdAAAAAAAAgZ0AAAAAAAEBnQAAAAAAAQGdAAAAAAABgZ0AAAAAAAGBnQAAAAAAAgGdAAAAAAACAZ0AAAAAAAKBnQAAAAAAAoGdAAAAAAADAZ0AAAAAAAMBnQAAAAAAA4GdAAAAAAADgZ0AAAAAAAABoQAAAAAAAAGhAAAAAAAAgaEAAAAAAACBoQAAAAAAAQGhAAAAAAABAaEAAAAAAAGBoQAAAAAAAYGhAAAAAAACAaEAAAAAAAIBoQAAAAAAAoGhAAAAAAACgaEAAAAAAAMBoQAAAAAAAwGhAAAAAAADgaEAAAAAAAOBoQAAAAAAAAGlAAAAAAAAAaUAAAAAAACBpQAAAAAAAIGlAAAAAAABAaUAAAAAAAEBpQAAAAAAAYGlAAAAAAABgaUAAAAAAAIBpQAAAAAAAgGlAAAAAAACgaUAAAAAAAKBpQAAAAAAAwGlAAAAAAADAaUAAAAAAAOBpQAAAAAAA4GlAAAAAAAAAakAAAAAAAABqQAAAAAAAIGpAAAAAAAAgakAAAAAAAEBqQAAAAAAAQGpAAAAAAABgakAAAAAAAGBqQAAAAAAAgGpAAAAAAACAakAAAAAAAKBqQAAAAAAAoGpAAAAAAADAakAAAAAAAMBqQAAAAAAA4GpAAAAAAADgakAAAAAAAABrQAAAAAAAAGtAAAAAAAAga0AAAAAAACBrQAAAAAAAQGtAAAAAAABAa0AAAAAAAGBrQAAAAAAAYGtAAAAAAACAa0AAAAAAAIBrQAAAAAAAoGtAAAAAAACga0AAAAAAAMBrQAAAAAAAwGtAAAAAAADga0AAAAAAAOBrQAAAAAAAAGxAAAAAAAAAbEAAAAAAACBsQAAAAAAAIGxAAAAAAABAbEAAAAAAAEBsQAAAAAAAYGxAAAAAAABgbEAAAAAAAIBsQAAAAAAAgGxAAAAAAACgbEAAAAAAAKBsQAAAAAAAwGxAAAAAAADAbEAAAAAAAOBsQAAAAAAA4GxAAAAAAAAAbUAAAAAAAABtQAAAAAAAIG1AAAAAAAAgbUAAAAAAAEBtQAAAAAAAQG1AAAAAAABgbUAAAAAAAGBtQAAAAAAAgG1AAAAAAACAbUAAAAAAAKBtQAAAAAAAoG1AAAAAAADAbUAAAAAAAMBtQAAAAAAA4G1AAAAAAADgbUAAAAAAAABuQAAAAAAAAG5AAAAAAAAgbkAAAAAAACBuQAAAAAAAQG5AAAAAAABAbkAAAAAAAGBuQAAAAAAAYG5AAAAAAACAbkAAAAAAAIBuQAAAAAAAoG5AAAAAAACgbkAAAAAAAMBuQAAAAAAAwG5AAAAAAADgbkAAAAAAAOBuQAAAAAAAAG9AAAAAAAAAb0AAAAAAACBvQAAAAAAAIG9AAAAAAABAb0AAAAAAAEBvQAAAAAAAYG9AAAAAAABgb0AAAAAAAIBvQAAAAAAAgG9AAAAAAACgb0AAAAAAAKBvQAAAAAAAwG9AAAAAAADAb0AAAAAAAOBvQAAAAAAA4G9AAAAAAAAAcEAAAAAAAABwQAAAAAAAEHBAAAAAAAAQcEAAAAAAACBwQAAAAAAAIHBAAAAAAAAwcEAAAAAAADBwQAAAAAAAQHBAAAAAAABAcEAAAAAAAFBwQAAAAAAAUHBAAAAAAABgcEAAAAAAAGBwQAAAAAAAcHBAAAAAAABwcEAAAAAAAIBwQAAAAAAAgHBAAAAAAACQcEAAAAAAAJBwQAAAAAAAoHBAAAAAAACgcEAAAAAAALBwQAAAAAAAsHBAAAAAAADAcEAAAAAAAMBwQAAAAAAA0HBAAAAAAADQcEAAAAAAAOBwQAAAAAAA4HBAAAAAAADwcEAAAAAAAPBwQAAAAAAAAHFAAAAAAAAAcUAAAAAAABBxQAAAAAAAEHFAAAAAAAAgcUAAAAAAACBxQAAAAAAAMHFAAAAAAAAwcUAAAAAAAEBxQAAAAAAAQHFAAAAAAABQcUAAAAAAAFBxQAAAAAAAYHFAAAAAAABgcUAAAAAAAHBxQAAAAAAAcHFAAAAAAACAcUAAAAAAAIBxQAAAAAAAkHFAAAAAAACQcUAAAAAAAKBxQAAAAAAAoHFAAAAAAACwcUAAAAAAALBxQAAAAAAAwHFAAAAAAADAcUAAAAAAANBxQAAAAAAA0HFAAAAAAADgcUAAAAAAAOBxQAAAAAAA8HFAAAAAAADwcUAAAAAAAAByQAAAAAAAAHJAAAAAAAAQckAAAAAAABByQAAAAAAAIHJAAAAAAAAgckAAAAAAADByQAAAAAAAMHJAAAAAAABAckAAAAAAAEByQAAAAAAAUHJAAAAAAABQckAAAAAAAGByQAAAAAAAYHJAAAAAAABwckAAAAAAAHByQAAAAAAAgHJAAAAAAACAckAAAAAAAJByQAAAAAAAkHJAAAAAAACgckAAAAAAAKByQAAAAAAAsHJAAAAAAACwckAAAAAAAMByQAAAAAAAwHJAMzMzMzPPckA="},"shape":[604],"dtype":"float64","order":"little"}],["y_c",{"type":"ndarray","array":{"type":"bytes","data":"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1EUUkxP37z/URRSTE/fvP0ODemI3+e8/Q4N6Yjf57z+5D++S3/rvP7kP75Lf+u8/+cMf+CX87z/5wx/4JfzvP3n1nIkf/e8/efWciR/97z+rDXcq3f3vP6sNdyrd/e8/sZNYWWz+7z+xk1hZbP7vP+HfusnX/u8/4d+6ydf+7z/C7nbnJ//vP8Luducn/+8/OYRhRmP/7z85hGFGY//vP+aE4v+O/+8/5oTi/47/7z/FupMAr//vP8W6kwCv/+8/+13zR8b/7z/7XfNHxv/vP7MuIhzX/+8/sy4iHNf/7z+INIIz4//vP4g0gjPj/+8/TMTf1ev/7z9MxN/V6//vPy2dnvbx/+8/LZ2e9vH/7z+bGzRJ9v/vP5sbNEn2/+8/Jh0IUfn/7z8mHQhR+f/vP1blqW37/+8/VuWpbfv/7z+AJR7k/P/vP4AlHuT8/+8/57vn5f3/7z/nu+fl/f/vP5ryTZb+/+8/mvJNlv7/7z+W2EgO///vP5bYSA7//+8/4W1mX///7z/hbWZf///vP4tY6ZX//+8/i1jplf//7z/vOlO6///vP+86U7r//+8/eg+B0v//7z96D4HS///vPwitduL//+8/CK124v//7z8+W+/s///vPz5b7+z//+8/fcfD8///7z99x8Pz///vP69lMfj//+8/r2Ux+P//7z+lDAz7///vP6UMDPv//+8/jzLg/P//7z+PMuD8///vP4ZiCv7//+8/hmIK/v//7z/PMsf+///vP88yx/7//+8/4Q0+////7z/hDT7////vPxZviP///+8/Fm+I////7z9Vtbb////vP1W1tv///+8/SlTT////7z9KVNP////vP6Ht5P///+8/oe3k////7z/Wr+/////vP9av7////+8/wjn2////7z/COfb////vPzct+v///+8/Ny36////7z/ZjPz////vP9mM/P///+8/xff9////7z/F9/3////vP0jP/v///+8/SM/+////7z+FTv/////vP4VO/////+8/Npn/////7z82mf/////vP87E/////+8/zsT/////7z8a3v/////vPxre/////+8/suz/////7z+y7P/////vPxL1/////+8/EvX/////7z/Y+f/////vP9j5/////+8/jvz/////7z+O/P/////vPxX+/////+8/Ff7/////7z/w/v/////vP/D+/////+8/av//////7z9q///////vP67//////+8/rv//////7z/T///////vP9P//////+8/6P//////7z/o///////vP/P//////+8/8///////7z/5///////vP/n//////+8//P//////7z/8///////vP/7//////+8//v//////7z/////////vP////////+8/////////7z/////////vPwAAAAAAAPA/AAAAAAAA8D8AAAAAAADwPwAAAAAAAPA/AAAAAAAA8D8AAAAAAADwPwAAAAAAAPA/AAAAAAAA8D8AAAAAAADwPwAAAAAAAPA/AAAAAAAA8D8AAAAAAADwPwAAAAAAAPA/AAAAAAAA8D8AAAAAAADwPwAAAAAAAPA/AAAAAAAA8D8AAAAAAADwPwAAAAAAAPA/AAAAAAAA8D8="},"shape":[604],"dtype":"float64","order":"little"}]]}}}],["dist","binomial"],["discrete",true],["xrange",{"type":"object","name":"DataRange1d","id":"p1237","attributes":{"js_property_callbacks":{"type":"map","entries":[["change:start",[{"id":"p1328"}]],["change:end",[{"id":"p1328"}]]]},"range_padding":0}}],["n",400],["arg1",{"id":"p1329"}],["arg2",{"type":"object","name":"Slider","id":"p1330","attributes":{"js_property_callbacks":{"type":"map","entries":[["change:value",[{"id":"p1328"}]]]},"title":"theta","start":0,"end":1,"value":0.25,"step":0.1}}],["arg3",{"id":"p1329"}]]},"code":"function arange(start, stop) {\n\tvar x = [];\n\tfor (var i = start; i < stop; i++) x.push(i);\n\treturn x;\n}\n\nfunction discrete_cdf(cumsum, y_p) {\n    var y_c = [];\n\n    y_c.push(cumsum, cumsum);\n    for (var i = 0; i < y_p.length; i++) {\n        if (!isNaN(y_p[i])) cumsum += y_p[i];\n        y_c.push(cumsum, cumsum);\n    }\n\n    return y_c;\n}\n\nfunction update_y_p(probFun, x_p, arg1, arg2, arg3) {\n    // Compute PMF/PDF\n    var y_p = [];\n    for (var i = 0; i < x_p.length; i++) {\n      y_p.push(probFun(x_p[i], arg1, arg2, arg3));\n    }\n\n    return y_p;\n}\n\nfunction update_y_c_discrete(probFun, x_p, y_p, arg1, arg2, arg3) {\n    // Compute CDF\n    var cumsum = 0.0;\n    var summand = 0.0;\n    for (var i = 0; i < x_p[0]; i++) {\n        summand = probFun(x_p[i], arg1, arg2, arg3);\n        if (!isNaN(summand)) cumsum += summand;\n    }\n\n    y_c = discrete_cdf(cumsum, y_p);\n    return y_c;\n}\n\nfunction lnchoice(n, k) {\n    return lnfactorial(n) - lnfactorial(n-k) - lnfactorial(k);\n}\n\n\n\nfunction lnfactorial(n) {\n  if (n > 254) { // Use Stirling's approximation\n    var x = n + 1;\n    return (x - 0.5)*Math.log(x) - x + 0.5*Math.log(2*Math.PI) + 1.0/(12.0*x);\n  }\n  else { // Look it up\n    const lnfact = [0.000000000000000,\n                    0.000000000000000,\n                    0.693147180559945,\n                    1.791759469228055,\n                    3.178053830347946,\n                    4.787491742782046,\n                    6.579251212010101,\n                    8.525161361065415,\n                    10.604602902745251,\n                    12.801827480081469,\n                    15.104412573075516,\n                    17.502307845873887,\n                    19.987214495661885,\n                    22.552163853123421,\n                    25.191221182738683,\n                    27.899271383840894,\n                    30.671860106080675,\n                    33.505073450136891,\n                    36.395445208033053,\n                    39.339884187199495,\n                    42.335616460753485,\n                    45.380138898476908,\n                    48.471181351835227,\n                    51.606675567764377,\n                    54.784729398112319,\n                    58.003605222980518,\n                    61.261701761002001,\n                    64.557538627006323,\n                    67.889743137181526,\n                    71.257038967168000,\n                    74.658236348830158,\n                    78.092223553315307,\n                    81.557959456115029,\n                    85.054467017581516,\n                    88.580827542197682,\n                    92.136175603687079,\n                    95.719694542143202,\n                    99.330612454787428,\n                    102.968198614513810,\n                    106.631760260643450,\n                    110.320639714757390,\n                    114.034211781461690,\n                    117.771881399745060,\n                    121.533081515438640,\n                    125.317271149356880,\n                    129.123933639127240,\n                    132.952575035616290,\n                    136.802722637326350,\n                    140.673923648234250,\n                    144.565743946344900,\n                    148.477766951773020,\n                    152.409592584497350,\n                    156.360836303078800,\n                    160.331128216630930,\n                    164.320112263195170,\n                    168.327445448427650,\n                    172.352797139162820,\n                    176.395848406997370,\n                    180.456291417543780,\n                    184.533828861449510,\n                    188.628173423671600,\n                    192.739047287844900,\n                    196.866181672889980,\n                    201.009316399281570,\n                    205.168199482641200,\n                    209.342586752536820,\n                    213.532241494563270,\n                    217.736934113954250,\n                    221.956441819130360,\n                    226.190548323727570,\n                    230.439043565776930,\n                    234.701723442818260,\n                    238.978389561834350,\n                    243.268849002982730,\n                    247.572914096186910,\n                    251.890402209723190,\n                    256.221135550009480,\n                    260.564940971863220,\n                    264.921649798552780,\n                    269.291097651019810,\n                    273.673124285693690,\n                    278.067573440366120,\n                    282.474292687630400,\n                    286.893133295426990,\n                    291.323950094270290,\n                    295.766601350760600,\n                    300.220948647014100,\n                    304.686856765668720,\n                    309.164193580146900,\n                    313.652829949878990,\n                    318.152639620209300,\n                    322.663499126726210,\n                    327.185287703775200,\n                    331.717887196928470,\n                    336.261181979198450,\n                    340.815058870798960,\n                    345.379407062266860,\n                    349.954118040770250,\n                    354.539085519440790,\n                    359.134205369575340,\n                    363.739375555563470,\n                    368.354496072404690,\n                    372.979468885689020,\n                    377.614197873918670,\n                    382.258588773060010,\n                    386.912549123217560,\n                    391.575988217329610,\n                    396.248817051791490,\n                    400.930948278915760,\n                    405.622296161144900,\n                    410.322776526937280,\n                    415.032306728249580,\n                    419.750805599544780,\n                    424.478193418257090,\n                    429.214391866651570,\n                    433.959323995014870,\n                    438.712914186121170,\n                    443.475088120918940,\n                    448.245772745384610,\n                    453.024896238496130,\n                    457.812387981278110,\n                    462.608178526874890,\n                    467.412199571608080,\n                    472.224383926980520,\n                    477.044665492585580,\n                    481.872979229887900,\n                    486.709261136839360,\n                    491.553448223298010,\n                    496.405478487217580,\n                    501.265290891579240,\n                    506.132825342034830,\n                    511.008022665236070,\n                    515.890824587822520,\n                    520.781173716044240,\n                    525.679013515995050,\n                    530.584288294433580,\n                    535.496943180169520,\n                    540.416924105997740,\n                    545.344177791154950,\n                    550.278651724285620,\n                    555.220294146894960,\n                    560.169054037273100,\n                    565.124881094874350,\n                    570.087725725134190,\n                    575.057539024710200,\n                    580.034272767130800,\n                    585.017879388839220,\n                    590.008311975617860,\n                    595.005524249382010,\n                    600.009470555327430,\n                    605.020105849423770,\n                    610.037385686238740,\n                    615.061266207084940,\n                    620.091704128477430,\n                    625.128656730891070,\n                    630.172081847810200,\n                    635.221937855059760,\n                    640.278183660408100,\n                    645.340778693435030,\n                    650.409682895655240,\n                    655.484856710889060,\n                    660.566261075873510,\n                    665.653857411105950,\n                    670.747607611912710,\n                    675.847474039736880,\n                    680.953419513637530,\n                    686.065407301994010,\n                    691.183401114410800,\n                    696.307365093814040,\n                    701.437263808737160,\n                    706.573062245787470,\n                    711.714725802289990,\n                    716.862220279103440,\n                    722.015511873601330,\n                    727.174567172815840,\n                    732.339353146739310,\n                    737.509837141777440,\n                    742.685986874351220,\n                    747.867770424643370,\n                    753.055156230484160,\n                    758.248113081374300,\n                    763.446610112640200,\n                    768.650616799717000,\n                    773.860102952558460,\n                    779.075038710167410,\n                    784.295394535245690,\n                    789.521141208958970,\n                    794.752249825813460,\n                    799.988691788643450,\n                    805.230438803703120,\n                    810.477462875863580,\n                    815.729736303910160,\n                    820.987231675937890,\n                    826.249921864842800,\n                    831.517780023906310,\n                    836.790779582469900,\n                    842.068894241700490,\n                    847.352097970438420,\n                    852.640365001133090,\n                    857.933669825857460,\n                    863.231987192405430,\n                    868.535292100464630,\n                    873.843559797865740,\n                    879.156765776907600,\n                    884.474885770751830,\n                    889.797895749890240,\n                    895.125771918679900,\n                    900.458490711945270,\n                    905.796028791646340,\n                    911.138363043611210,\n                    916.485470574328820,\n                    921.837328707804890,\n                    927.193914982476710,\n                    932.555207148186240,\n                    937.921183163208070,\n                    943.291821191335660,\n                    948.667099599019820,\n                    954.046996952560450,\n                    959.431492015349480,\n                    964.820563745165940,\n                    970.214191291518320,\n                    975.612353993036210,\n                    981.015031374908400,\n                    986.422203146368590,\n                    991.833849198223450,\n                    997.249949600427840,\n                    1002.670484599700300,\n                    1008.095434617181700,\n                    1013.524780246136200,\n                    1018.958502249690200,\n                    1024.396581558613400,\n                    1029.838999269135500,\n                    1035.285736640801600,\n                    1040.736775094367400,\n                    1046.192096209724900,\n                    1051.651681723869200,\n                    1057.115513528895000,\n                    1062.583573670030100,\n                    1068.055844343701400,\n                    1073.532307895632800,\n                    1079.012946818975000,\n                    1084.497743752465600,\n                    1089.986681478622400,\n                    1095.479742921962700,\n                    1100.976911147256000,\n                    1106.478169357800900,\n                    1111.983500893733000,\n                    1117.492889230361000,\n                    1123.006317976526100,\n                    1128.523770872990800,\n                    1134.045231790853000,\n                    1139.570684729984800,\n                    1145.100113817496100,\n                    1150.633503306223700,\n                    1156.170837573242400];\n    return lnfact[n];\n  }\n}\n\n\n\nfunction probFun(n, N, theta, {}) {\n    if (n > N || n < 0) return NaN;\n\n    if (theta == 0) {\n        if (n == 0) return 1.0;\n        return 0.0;\n    }\n\n    if (theta == 1) {\n        if (n == N) return 1.0;\n        return 0.0;\n    }\n\n    return Math.exp(lnchoice(N, n)\n                    + n * Math.log(theta)\n                    + (N - n) * Math.log(1-theta));\n}\n\n// Extract data from sources\nvar data_p = source_p.data;\nvar data_c = source_c.data;\nvar x_p = data_p['x'];\nvar y_p = data_p['y_p'];\nvar x_c = data_c['x'];\nvar y_c = data_c['y_c'];\nvar xRangeMin = xrange.start;\nvar xRangeMax = xrange.end;\n\n// Make corrections for start and end points for discrete distributions\nif (dist == 'bernoulli') {\n\txRangeMin = 0.0;\n\txRangeMax = 1.0;\n}\nelse if (dist == 'categorical') {\n\txRangeMin = 1;\n\txRangeMax = x_p.length;\n}\nelse {\n  \txRangeMin = Math.max(0, Math.floor(xRangeMin));\n\txRangeMax = Math.floor(xRangeMax);\n}\n\n// x-values to evaluate PMF and CDF\nx_p = arange(xRangeMin, xRangeMax+1);\nlet xSize = xRangeMax - xRangeMin;\n\nx_c = [];\nfor (var i = 0; i < x_p.length; i++) x_c.push(x_p[i], x_p[i]);\n\nx_c.unshift(Math.max(xRangeMin - 0.05 * xSize, xRangeMin - 0.95));\nx_c.push(Math.min(xRangeMax + 0.05 * xSize, xRangeMax + 0.95));\n\n// Update sources with new x-values\nsource_p.data['x'] = x_p;\nsource_c.data['x'] = x_c;\n\n// Update the PMF and CDF\nsource_p.data['y_p'] = update_y_p(probFun, \n    x_p, arg1.value, arg2.value, arg3.value);\nsource_c.data['y_c'] = update_y_c_discrete(probFun, \n\tx_c, source_p.data['y_p'], arg1.value, arg2.value, arg3.value);\n\nsource_p.change.emit();\nsource_c.change.emit();\n"}}]]]},"title":"N","start":1,"end":750,"value":750,"step":5}}]]},"code":"\n    slider.start = Math.max(min_value, Number(cb_obj.value));\n"}}]]]},"width":70,"value":"1"}},{"id":"p1329"},{"type":"object","name":"TextInput","id":"p1333","attributes":{"js_property_callbacks":{"type":"map","entries":[["change:value",[{"type":"object","name":"CustomJS","id":"p1336","attributes":{"args":{"type":"map","entries":[["min_value",1],["max_value",1000],["slider",{"id":"p1329"}]]},"code":"\nslider.end = Math.min(max_value, Number(cb_obj.value));\n"}}]]]},"width":70,"value":"750"}}]}},{"type":"object","name":"Row","id":"p1340","attributes":{"children":[{"type":"object","name":"TextInput","id":"p1332","attributes":{"js_property_callbacks":{"type":"map","entries":[["change:value",[{"type":"object","name":"CustomJS","id":"p1337","attributes":{"args":{"type":"map","entries":[["min_value",0],["max_value",1],["slider",{"id":"p1330"}]]},"code":"\n    slider.start = Math.max(min_value, Number(cb_obj.value));\n"}}]]]},"width":70,"value":"0"}},{"id":"p1330"},{"type":"object","name":"TextInput","id":"p1334","attributes":{"js_property_callbacks":{"type":"map","entries":[["change:value",[{"type":"object","name":"CustomJS","id":"p1338","attributes":{"args":{"type":"map","entries":[["min_value",0],["max_value",1],["slider",{"id":"p1330"}]]},"code":"\nslider.end = Math.min(max_value, Number(cb_obj.value));\n"}}]]]},"width":70,"value":"1"}}]}}]}},{"type":"object","name":"Spacer","id":"p1352","attributes":{"height":10}},{"type":"object","name":"GridPlot","id":"p1350","attributes":{"rows":null,"cols":null,"toolbar":{"type":"object","name":"Toolbar","id":"p1349","attributes":{"tools":[{"type":"object","name":"ToolProxy","id":"p1343","attributes":{"tools":[{"type":"object","name":"PanTool","id":"p1258"},{"type":"object","name":"PanTool","id":"p1287"}]}},{"type":"object","name":"ToolProxy","id":"p1344","attributes":{"tools":[{"type":"object","name":"WheelZoomTool","id":"p1259","attributes":{"renderers":"auto"}},{"type":"object","name":"WheelZoomTool","id":"p1288","attributes":{"renderers":"auto"}}]}},{"type":"object","name":"ToolProxy","id":"p1345","attributes":{"tools":[{"type":"object","name":"BoxZoomTool","id":"p1260","attributes":{"overlay":{"type":"object","name":"BoxAnnotation","id":"p1261","attributes":{"syncable":false,"level":"overlay","visible":false,"left_units":"canvas","right_units":"canvas","top_units":"canvas","bottom_units":"canvas","line_color":"black","line_alpha":1.0,"line_width":2,"line_dash":[4,4],"fill_color":"lightgrey","fill_alpha":0.5}}}},{"type":"object","name":"BoxZoomTool","id":"p1289","attributes":{"overlay":{"type":"object","name":"BoxAnnotation","id":"p1290","attributes":{"syncable":false,"level":"overlay","visible":false,"left_units":"canvas","right_units":"canvas","top_units":"canvas","bottom_units":"canvas","line_color":"black","line_alpha":1.0,"line_width":2,"line_dash":[4,4],"fill_color":"lightgrey","fill_alpha":0.5}}}}]}},{"type":"object","name":"SaveTool","id":"p1346"},{"type":"object","name":"ToolProxy","id":"p1347","attributes":{"tools":[{"type":"object","name":"ResetTool","id":"p1263"},{"type":"object","name":"ResetTool","id":"p1292"}]}},{"type":"object","name":"ToolProxy","id":"p1348","attributes":{"tools":[{"type":"object","name":"HelpTool","id":"p1264"},{"type":"object","name":"HelpTool","id":"p1293"}]}}]}},"toolbar_location":"right","children":[[{"type":"object","name":"Figure","id":"p1236","attributes":{"x_range":{"id":"p1237"},"y_range":{"type":"object","name":"DataRange1d","id":"p1238"},"x_scale":{"type":"object","name":"LinearScale","id":"p1246"},"y_scale":{"type":"object","name":"LinearScale","id":"p1247"},"title":{"type":"object","name":"Title","id":"p1239","attributes":{"text":"Binomial"}},"renderers":[{"type":"object","name":"GlyphRenderer","id":"p1316","attributes":{"data_source":{"id":"p1295"},"view":{"type":"object","name":"CDSView","id":"p1317","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1318"}}},"glyph":{"type":"object","name":"Circle","id":"p1313","attributes":{"x":{"type":"field","field":"x"},"y":{"type":"field","field":"y_p"},"size":{"type":"value","value":5},"line_color":{"type":"value","value":"#1f77b4"},"fill_color":{"type":"value","value":"#1f77b4"}}},"nonselection_glyph":{"type":"object","name":"Circle","id":"p1314","attributes":{"x":{"type":"field","field":"x"},"y":{"type":"field","field":"y_p"},"size":{"type":"value","value":5},"line_color":{"type":"value","value":"#1f77b4"},"line_alpha":{"type":"value","value":0.1},"fill_color":{"type":"value","value":"#1f77b4"},"fill_alpha":{"type":"value","value":0.1},"hatch_alpha":{"type":"value","value":0.1}}},"muted_glyph":{"type":"object","name":"Circle","id":"p1315","attributes":{"x":{"type":"field","field":"x"},"y":{"type":"field","field":"y_p"},"size":{"type":"value","value":5},"line_color":{"type":"value","value":"#1f77b4"},"line_alpha":{"type":"value","value":0.2},"fill_color":{"type":"value","value":"#1f77b4"},"fill_alpha":{"type":"value","value":0.2},"hatch_alpha":{"type":"value","value":0.2}}}}},{"type":"object","name":"GlyphRenderer","id":"p1325","attributes":{"data_source":{"id":"p1295"},"view":{"type":"object","name":"CDSView","id":"p1326","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1327"}}},"glyph":{"type":"object","name":"Segment","id":"p1322","attributes":{"x0":{"type":"field","field":"x"},"y0":{"type":"value","value":0},"x1":{"type":"field","field":"x"},"y1":{"type":"field","field":"y_p"},"line_color":{"type":"value","value":"#1f77b4"},"line_width":{"type":"value","value":2}}},"nonselection_glyph":{"type":"object","name":"Segment","id":"p1323","attributes":{"x0":{"type":"field","field":"x"},"y0":{"type":"value","value":0},"x1":{"type":"field","field":"x"},"y1":{"type":"field","field":"y_p"},"line_color":{"type":"value","value":"#1f77b4"},"line_alpha":{"type":"value","value":0.1},"line_width":{"type":"value","value":2}}},"muted_glyph":{"type":"object","name":"Segment","id":"p1324","attributes":{"x0":{"type":"field","field":"x"},"y0":{"type":"value","value":0},"x1":{"type":"field","field":"x"},"y1":{"type":"field","field":"y_p"},"line_color":{"type":"value","value":"#1f77b4"},"line_alpha":{"type":"value","value":0.2},"line_width":{"type":"value","value":2}}}}}],"toolbar":{"type":"object","name":"Toolbar","id":"p1245","attributes":{"tools":[{"id":"p1258"},{"id":"p1259"},{"id":"p1260"},{"type":"object","name":"SaveTool","id":"p1262"},{"id":"p1263"},{"id":"p1264"}]}},"toolbar_location":null,"left":[{"type":"object","name":"LinearAxis","id":"p1253","attributes":{"ticker":{"type":"object","name":"BasicTicker","id":"p1254","attributes":{"mantissas":[1,2,5]}},"formatter":{"type":"object","name":"BasicTickFormatter","id":"p1255"},"axis_label":"PMF","major_label_policy":{"type":"object","name":"AllLabels","id":"p1256"}}}],"below":[{"type":"object","name":"LinearAxis","id":"p1248","attributes":{"ticker":{"type":"object","name":"BasicTicker","id":"p1249","attributes":{"mantissas":[1,2,5]}},"formatter":{"type":"object","name":"BasicTickFormatter","id":"p1250"},"axis_label":"n","major_label_policy":{"type":"object","name":"AllLabels","id":"p1251"}}}],"center":[{"type":"object","name":"Grid","id":"p1252","attributes":{"axis":{"id":"p1248"}}},{"type":"object","name":"Grid","id":"p1257","attributes":{"dimension":1,"axis":{"id":"p1253"}}}],"frame_width":300,"frame_height":175}},0,0],[{"type":"object","name":"Spacer","id":"p1342","attributes":{"width":30}},0,1],[{"type":"object","name":"Figure","id":"p1265","attributes":{"x_range":{"id":"p1237"},"y_range":{"type":"object","name":"Range1d","id":"p1294","attributes":{"start":-0.05,"end":1.05}},"x_scale":{"type":"object","name":"LinearScale","id":"p1275"},"y_scale":{"type":"object","name":"LinearScale","id":"p1276"},"title":{"type":"object","name":"Title","id":"p1268","attributes":{"text":" "}},"renderers":[{"type":"object","name":"GlyphRenderer","id":"p1307","attributes":{"data_source":{"id":"p1298"},"view":{"type":"object","name":"CDSView","id":"p1308","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1309"}}},"glyph":{"type":"object","name":"Line","id":"p1304","attributes":{"x":{"type":"field","field":"x"},"y":{"type":"field","field":"y_c"},"line_color":"#1f77b4","line_width":2}},"nonselection_glyph":{"type":"object","name":"Line","id":"p1305","attributes":{"x":{"type":"field","field":"x"},"y":{"type":"field","field":"y_c"},"line_color":"#1f77b4","line_alpha":0.1,"line_width":2}},"muted_glyph":{"type":"object","name":"Line","id":"p1306","attributes":{"x":{"type":"field","field":"x"},"y":{"type":"field","field":"y_c"},"line_color":"#1f77b4","line_alpha":0.2,"line_width":2}}}}],"toolbar":{"type":"object","name":"Toolbar","id":"p1274","attributes":{"tools":[{"id":"p1287"},{"id":"p1288"},{"id":"p1289"},{"type":"object","name":"SaveTool","id":"p1291"},{"id":"p1292"},{"id":"p1293"}]}},"toolbar_location":null,"left":[{"type":"object","name":"LinearAxis","id":"p1282","attributes":{"ticker":{"type":"object","name":"BasicTicker","id":"p1283","attributes":{"mantissas":[1,2,5]}},"formatter":{"type":"object","name":"BasicTickFormatter","id":"p1284"},"axis_label":"CDF","major_label_policy":{"type":"object","name":"AllLabels","id":"p1285"}}}],"below":[{"type":"object","name":"LinearAxis","id":"p1277","attributes":{"ticker":{"type":"object","name":"BasicTicker","id":"p1278","attributes":{"mantissas":[1,2,5]}},"formatter":{"type":"object","name":"BasicTickFormatter","id":"p1279"},"axis_label":"n","major_label_policy":{"type":"object","name":"AllLabels","id":"p1280"}}}],"center":[{"type":"object","name":"Grid","id":"p1281","attributes":{"axis":{"id":"p1277"}}},{"type":"object","name":"Grid","id":"p1286","attributes":{"dimension":1,"axis":{"id":"p1282"}}}],"frame_width":300,"frame_height":175}},0,2]]}}]}}]}};
  const render_items = [{"docid":"151737cf-56d8-4e6a-aa37-59b7a0496a0f","roots":{"p1353":"d79defc2-d2bd-49ad-9725-300fe0493dc9"},"root_ids":["p1353"]}];
  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);
  }
  if (root.Bokeh !== undefined) {
    embed_document(root);
  } else {
    let attempts = 0;
    const timer = setInterval(function(root) {
      if (root.Bokeh !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else {
        attempts++;
        if (attempts > 100) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 10, root)
  }
})(window);
</script>
</div>
</div>
<p>With our prior belief, set, we can compute our posterior for our Beta-Binomial model using Bayes’ rule. The posterior for this model turns out to be <span class="math display">\[
\text{BA} = \frac{\text{Hits} + \alpha}{\text{At Bats} + \alpha + \beta}
\]</span></p>
<p>For <span class="math inline">\(\alpha=75\)</span>, <span class="math inline">\(\beta=200\)</span> (prior mean of .27), we can compute the posterior for each player in the training data:</p>
<div class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>df_train[<span class="st">"bayes_avg"</span>] <span class="op">=</span> (df_train[<span class="st">"Hits"</span>] <span class="op">+</span> <span class="dv">75</span>) <span class="op">/</span> (df_train[<span class="st">"At-Bats"</span>] <span class="op">+</span> <span class="dv">75</span> <span class="op">+</span> <span class="dv">200</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>/var/folders/d2/2spyvc1d5d12g6jw1qts2w2r0000gn/T/ipykernel_29560/1661486945.py:1: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df_train["bayes_avg"] = (df_train["Hits"] + 75) / (df_train["At-Bats"] + 75 + 200)</code></pre>
</div>
</div>
<p>And compare our Bayesian predictions to the simple batting averages:</p>
<div class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> altair <span class="im">as</span> alt</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>df_train[<span class="st">"PlayerName"</span>] <span class="op">=</span> df_train[<span class="st">"FirstName"</span>] <span class="op">+</span> <span class="st">" "</span> <span class="op">+</span> df_train[<span class="st">"LastName"</span>]</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>df_long <span class="op">=</span> df_train[[<span class="st">'PlayerName'</span>, <span class="st">'avg'</span>, <span class="st">'bayes_avg'</span>]].melt(id_vars<span class="op">=</span><span class="st">"PlayerName"</span>, var_name<span class="op">=</span><span class="st">"model"</span>, value_name<span class="op">=</span><span class="st">"batting_average"</span>)</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>alt.Chart(df_long).mark_line(point<span class="op">=</span><span class="va">True</span>).encode(</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span><span class="st">'model'</span>,</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span>alt.X(<span class="st">"batting_average"</span>).scale(zero<span class="op">=</span><span class="va">False</span>),</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>    tooltip<span class="op">=</span>[<span class="st">'PlayerName'</span>],</span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>    color<span class="op">=</span><span class="st">"PlayerName"</span></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>).encode().properties(height<span class="op">=</span><span class="dv">150</span>, width<span class="op">=</span><span class="dv">750</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>/var/folders/d2/2spyvc1d5d12g6jw1qts2w2r0000gn/T/ipykernel_29560/4234696559.py:3: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df_train["PlayerName"] = df_train["FirstName"] + " " + df_train["LastName"]</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="10">

<style>
  #altair-viz-80a1a7b9d106448e8112c52d193d6f0a.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-80a1a7b9d106448e8112c52d193d6f0a.vega-embed details,
  #altair-viz-80a1a7b9d106448e8112c52d193d6f0a.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-80a1a7b9d106448e8112c52d193d6f0a"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-80a1a7b9d106448e8112c52d193d6f0a") {
      outputDiv = document.getElementById("altair-viz-80a1a7b9d106448e8112c52d193d6f0a");
    }
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.15.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.15.1"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 300, "continuousHeight": 300}}, "data": {"name": "data-2bb5d51e73392177a7c95c376a79a703"}, "mark": {"type": "line", "point": true}, "encoding": {"color": {"field": "PlayerName", "type": "nominal"}, "tooltip": [{"field": "PlayerName", "type": "nominal"}], "x": {"field": "batting_average", "scale": {"zero": false}, "type": "quantitative"}, "y": {"field": "model", "type": "nominal"}}, "height": 150, "width": 750, "$schema": "https://vega.github.io/schema/vega-lite/v5.15.1.json", "datasets": {"data-2bb5d51e73392177a7c95c376a79a703": [{"PlayerName": "Roberto Clemente", "model": "avg", "batting_average": 0.4}, {"PlayerName": "Frank Robinson", "model": "avg", "batting_average": 0.37777777777777777}, {"PlayerName": "Frank Howard", "model": "avg", "batting_average": 0.35555555555555557}, {"PlayerName": "Jay Johnstone", "model": "avg", "batting_average": 0.3333333333333333}, {"PlayerName": "Ken Berry", "model": "avg", "batting_average": 0.3111111111111111}, {"PlayerName": "Jim Spencer", "model": "avg", "batting_average": 0.3111111111111111}, {"PlayerName": "Don Kessinger", "model": "avg", "batting_average": 0.28888888888888886}, {"PlayerName": "Luis Alvarado", "model": "avg", "batting_average": 0.26666666666666666}, {"PlayerName": "Ron Santo", "model": "avg", "batting_average": 0.24444444444444444}, {"PlayerName": "Ron Swaboda", "model": "avg", "batting_average": 0.24444444444444444}, {"PlayerName": "Rico Petrocelli", "model": "avg", "batting_average": 0.2222222222222222}, {"PlayerName": "Ellie Rodriguez", "model": "avg", "batting_average": 0.2222222222222222}, {"PlayerName": "George Scott", "model": "avg", "batting_average": 0.2222222222222222}, {"PlayerName": "Del Unser", "model": "avg", "batting_average": 0.2222222222222222}, {"PlayerName": "Billy Williams", "model": "avg", "batting_average": 0.2222222222222222}, {"PlayerName": "Bert Campaneris", "model": "avg", "batting_average": 0.2}, {"PlayerName": "Thurman Munson", "model": "avg", "batting_average": 0.17777777777777778}, {"PlayerName": "Max Alvis", "model": "avg", "batting_average": 0.15555555555555556}, {"PlayerName": "Roberto Clemente", "model": "bayes_avg", "batting_average": 0.290625}, {"PlayerName": "Frank Robinson", "model": "bayes_avg", "batting_average": 0.2875}, {"PlayerName": "Frank Howard", "model": "bayes_avg", "batting_average": 0.284375}, {"PlayerName": "Jay Johnstone", "model": "bayes_avg", "batting_average": 0.28125}, {"PlayerName": "Ken Berry", "model": "bayes_avg", "batting_average": 0.278125}, {"PlayerName": "Jim Spencer", "model": "bayes_avg", "batting_average": 0.278125}, {"PlayerName": "Don Kessinger", "model": "bayes_avg", "batting_average": 0.275}, {"PlayerName": "Luis Alvarado", "model": "bayes_avg", "batting_average": 0.271875}, {"PlayerName": "Ron Santo", "model": "bayes_avg", "batting_average": 0.26875}, {"PlayerName": "Ron Swaboda", "model": "bayes_avg", "batting_average": 0.26875}, {"PlayerName": "Rico Petrocelli", "model": "bayes_avg", "batting_average": 0.265625}, {"PlayerName": "Ellie Rodriguez", "model": "bayes_avg", "batting_average": 0.265625}, {"PlayerName": "George Scott", "model": "bayes_avg", "batting_average": 0.265625}, {"PlayerName": "Del Unser", "model": "bayes_avg", "batting_average": 0.265625}, {"PlayerName": "Billy Williams", "model": "bayes_avg", "batting_average": 0.265625}, {"PlayerName": "Bert Campaneris", "model": "bayes_avg", "batting_average": 0.2625}, {"PlayerName": "Thurman Munson", "model": "bayes_avg", "batting_average": 0.259375}, {"PlayerName": "Max Alvis", "model": "bayes_avg", "batting_average": 0.25625}]}}, {"mode": "vega-lite"});
</script>
</div>
</div>
<p>Loss</p>
<p>Efron and Morris</p>
<p><img src="img/efron_morris.jpeg" class="img-fluid"></p>
<section id="references" class="level2">
<h2 class="anchored" data-anchor-id="references">References</h2>
<p>[1] Efron B., Morris C. (1975), “Data analysis using Stein’s estimator and its generalizations”, J. Amer. Statist. Assoc., 70, 311-319. [2] <code>pyro</code>, <a href="https://github.com/pyro-ppl/pyro/blob/dev/examples/baseball.py">Deep universal probabilistic programming with Python and PyTorch</a> [3] Albert, Jim. <a href="https://chance.amstat.org/2014/09/carl-morris/">Interview with Carl Morris</a>.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>